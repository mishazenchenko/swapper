{"ast":null,"code":"import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createSlots as _createSlots, withModifiers as _withModifiers, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"mb-4\"\n};\nconst _hoisted_2 = {\n  style: {\n    \"word-break\": \"break-all\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_b_form_input = _resolveComponent(\"b-form-input\");\n  const _component_b_form_invalid_feedback = _resolveComponent(\"b-form-invalid-feedback\");\n  const _component_b_form_group = _resolveComponent(\"b-form-group\");\n  const _component_b_form_select_option = _resolveComponent(\"b-form-select-option\");\n  const _component_b_form_select = _resolveComponent(\"b-form-select\");\n  const _component_b_form = _resolveComponent(\"b-form\");\n  const _component_b_col = _resolveComponent(\"b-col\");\n  const _component_b_row = _resolveComponent(\"b-row\");\n  const _component_b_container = _resolveComponent(\"b-container\");\n  const _component_b_button = _resolveComponent(\"b-button\");\n  const _component_b_modal = _resolveComponent(\"b-modal\");\n  return _openBlock(), _createBlock(_component_b_modal, {\n    id: \"modal-role-group\",\n    ref: \"modal\",\n    onOk: $options.onOk,\n    onHidden: $options.resetForm\n  }, {\n    \"modal-title\": _withCtx(() => [$props.roleGroup ? (_openBlock(), _createElementBlock(_Fragment, {\n      key: 0\n    }, [_createTextVNode(_toDisplayString($data.$t('pageLdap.modal.editRoleGroup')), 1 /* TEXT */)], 64 /* STABLE_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n      key: 1\n    }, [_createTextVNode(_toDisplayString($data.$t('pageLdap.modal.addNewRoleGroup')), 1 /* TEXT */)], 64 /* STABLE_FRAGMENT */))]),\n    \"modal-footer\": _withCtx(({\n      cancel\n    }) => [_createVNode(_component_b_button, {\n      variant: \"secondary\",\n      onClick: $event => cancel()\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.$t('global.action.cancel')), 1 /* TEXT */)], undefined, true),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_b_button, {\n      form: \"role-group\",\n      type: \"submit\",\n      variant: \"primary\",\n      onClick: $options.onOk\n    }, {\n      default: _withCtx(() => [$props.roleGroup ? (_openBlock(), _createElementBlock(_Fragment, {\n        key: 0\n      }, [_createTextVNode(_toDisplayString($data.$t('global.action.save')), 1 /* TEXT */)], 64 /* STABLE_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n        key: 1\n      }, [_createTextVNode(_toDisplayString($data.$t('global.action.add')), 1 /* TEXT */)], 64 /* STABLE_FRAGMENT */))], undefined, true),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"])]),\n    default: _withCtx(() => [_createVNode(_component_b_container, null, {\n      default: _withCtx(() => [_createVNode(_component_b_row, null, {\n        default: _withCtx(() => [_createVNode(_component_b_col, {\n          sm: \"8\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_b_form, {\n            id: \"role-group\",\n            onSubmit: _withModifiers($options.handleSubmit, [\"prevent\"])\n          }, {\n            default: _withCtx(() => [_createCommentVNode(\" Edit role group \"), $props.roleGroup !== null ? (_openBlock(), _createElementBlock(\"dl\", _hoisted_1, [_createElementVNode(\"dt\", null, _toDisplayString($data.$t('pageLdap.modal.groupName')), 1 /* TEXT */), _createElementVNode(\"dd\", _hoisted_2, _toDisplayString($data.form.groupName), 1 /* TEXT */)])) : (_openBlock(), _createElementBlock(_Fragment, {\n              key: 1\n            }, [_createCommentVNode(\" Add new role group \"), _createVNode(_component_b_form_group, {\n              label: $data.$t('pageLdap.modal.groupName'),\n              \"label-for\": \"role-group-name\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_b_form_input, {\n                id: \"role-group-name\",\n                modelValue: $data.form.groupName,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.form.groupName = $event),\n                state: _ctx.getValidationState($setup.v$.form.groupName),\n                onInput: _cache[1] || (_cache[1] = $event => $setup.v$.form.groupName.$touch())\n              }, null, 8 /* PROPS */, [\"modelValue\", \"state\"]), _createVNode(_component_b_form_invalid_feedback, {\n                role: \"alert\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(_toDisplayString($data.$t('global.form.fieldRequired')), 1 /* TEXT */)], undefined, true),\n                _: 1 /* STABLE */\n              })], undefined, true),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"label\"])], 64 /* STABLE_FRAGMENT */)), _createVNode(_component_b_form_group, {\n              label: $data.$t('pageLdap.modal.groupPrivilege'),\n              \"label-for\": \"privilege\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_b_form_select, {\n                id: \"privilege\",\n                modelValue: $data.form.groupPrivilege,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.form.groupPrivilege = $event),\n                options: $options.accountRoles,\n                state: _ctx.getValidationState($setup.v$.form.groupPrivilege),\n                onInput: _cache[3] || (_cache[3] = $event => $setup.v$.form.groupPrivilege.$touch())\n              }, _createSlots({\n                _: 2 /* DYNAMIC */\n              }, [!$props.roleGroup ? {\n                name: \"first\",\n                fn: _withCtx(() => [_createVNode(_component_b_form_select_option, {\n                  value: null,\n                  disabled: \"\"\n                }, {\n                  default: _withCtx(() => [_createTextVNode(_toDisplayString($data.$t('global.form.selectAnOption')), 1 /* TEXT */)], undefined, true),\n                  _: 1 /* STABLE */\n                })]),\n                key: \"0\"\n              } : undefined]), 1032 /* PROPS, DYNAMIC_SLOTS */, [\"modelValue\", \"options\", \"state\"]), _createVNode(_component_b_form_invalid_feedback, {\n                role: \"alert\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(_toDisplayString($data.$t('global.form.fieldRequired')), 1 /* TEXT */)], undefined, true),\n                _: 1 /* STABLE */\n              })], undefined, true),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"label\"])], undefined, true),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"onSubmit\"])], undefined, true),\n          _: 1 /* STABLE */\n        })], undefined, true),\n        _: 1 /* STABLE */\n      })], undefined, true),\n      _: 1 /* STABLE */\n    })], undefined, true),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onOk\", \"onHidden\"]);\n}","map":{"version":3,"names":["key","class","style","_createBlock","_component_b_modal","id","ref","onOk","$options","onHidden","resetForm","_withCtx","$props","roleGroup","_createElementBlock","_Fragment","_createTextVNode","_toDisplayString","$data","$t","cancel","_createVNode","_component_b_button","variant","onClick","$event","default","_","form","type","_component_b_container","_component_b_row","_component_b_col","sm","_component_b_form","onSubmit","_withModifiers","handleSubmit","_createCommentVNode","_hoisted_1","_createElementVNode","_hoisted_2","groupName","_component_b_form_group","label","_component_b_form_input","modelValue","_cache","state","_ctx","getValidationState","$setup","v$","onInput","$touch","_component_b_form_invalid_feedback","role","_component_b_form_select","groupPrivilege","options","accountRoles","_createSlots","name","fn","_component_b_form_select_option","value","disabled","undefined"],"sources":["/home/zenchenko/openbmc/build/evb-ast2500/workspace/sources/webui-vue/src/views/SecurityAndAccess/Ldap/ModalAddRoleGroup.vue"],"sourcesContent":["<template>\n  <b-modal id=\"modal-role-group\" ref=\"modal\" @ok=\"onOk\" @hidden=\"resetForm\">\n    <template #modal-title>\n      <template v-if=\"roleGroup\">\n        {{ $t('pageLdap.modal.editRoleGroup') }}\n      </template>\n      <template v-else>\n        {{ $t('pageLdap.modal.addNewRoleGroup') }}\n      </template>\n    </template>\n    <b-container>\n      <b-row>\n        <b-col sm=\"8\">\n          <b-form id=\"role-group\" @submit.prevent=\"handleSubmit\">\n            <!-- Edit role group -->\n            <template v-if=\"roleGroup !== null\">\n              <dl class=\"mb-4\">\n                <dt>{{ $t('pageLdap.modal.groupName') }}</dt>\n                <dd style=\"word-break: break-all\">{{ form.groupName }}</dd>\n              </dl>\n            </template>\n\n            <!-- Add new role group -->\n            <template v-else>\n              <b-form-group\n                :label=\"$t('pageLdap.modal.groupName')\"\n                label-for=\"role-group-name\"\n              >\n                <b-form-input\n                  id=\"role-group-name\"\n                  v-model=\"form.groupName\"\n                  :state=\"getValidationState(v$.form.groupName)\"\n                  @input=\"v$.form.groupName.$touch()\"\n                />\n                <b-form-invalid-feedback role=\"alert\">\n                  {{ $t('global.form.fieldRequired') }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </template>\n\n            <b-form-group\n              :label=\"$t('pageLdap.modal.groupPrivilege')\"\n              label-for=\"privilege\"\n            >\n              <b-form-select\n                id=\"privilege\"\n                v-model=\"form.groupPrivilege\"\n                :options=\"accountRoles\"\n                :state=\"getValidationState(v$.form.groupPrivilege)\"\n                @input=\"v$.form.groupPrivilege.$touch()\"\n              >\n                <template v-if=\"!roleGroup\" #first>\n                  <b-form-select-option :value=\"null\" disabled>\n                    {{ $t('global.form.selectAnOption') }}\n                  </b-form-select-option>\n                </template>\n              </b-form-select>\n              <b-form-invalid-feedback role=\"alert\">\n                {{ $t('global.form.fieldRequired') }}\n              </b-form-invalid-feedback>\n            </b-form-group>\n          </b-form>\n        </b-col>\n      </b-row>\n    </b-container>\n    <template #modal-footer=\"{ cancel }\">\n      <b-button variant=\"secondary\" @click=\"cancel()\">\n        {{ $t('global.action.cancel') }}\n      </b-button>\n      <b-button form=\"role-group\" type=\"submit\" variant=\"primary\" @click=\"onOk\">\n        <template v-if=\"roleGroup\">\n          {{ $t('global.action.save') }}\n        </template>\n        <template v-else>\n          {{ $t('global.action.add') }}\n        </template>\n      </b-button>\n    </template>\n  </b-modal>\n</template>\n\n<script>\nimport { required, requiredIf } from '@vuelidate/validators';\nimport VuelidateMixin from '@/components/Mixins/VuelidateMixin.js';\nimport { useVuelidate } from '@vuelidate/core';\nimport { useI18n } from 'vue-i18n';\n\nexport default {\n  mixins: [VuelidateMixin],\n  props: {\n    roleGroup: {\n      type: Object,\n      default: null,\n      validator: (prop) => {\n        if (prop === null) return true;\n        return (\n          Object.prototype.hasOwnProperty.call(prop, 'groupName') &&\n          Object.prototype.hasOwnProperty.call(prop, 'groupPrivilege')\n        );\n      },\n    },\n  },\n  setup() {\n    return {\n      v$: useVuelidate(),\n    };\n  },\n  data() {\n    return {\n      $t: useI18n().t,\n      form: {\n        groupName: null,\n        groupPrivilege: null,\n      },\n    };\n  },\n  computed: {\n    accountRoles() {\n      return this.$store.getters['userManagement/accountRoles'];\n    },\n  },\n  watch: {\n    roleGroup: function (value) {\n      if (value === null) return;\n      this.form.groupName = value.groupName;\n      this.form.groupPrivilege = value.groupPrivilege;\n    },\n  },\n  validations() {\n    return {\n      form: {\n        groupName: {\n          required: requiredIf(function () {\n            return !this.roleGroup;\n          }),\n        },\n        groupPrivilege: {\n          required,\n        },\n      },\n    };\n  },\n  methods: {\n    handleSubmit() {\n      this.v$.$touch();\n      if (this.v$.$invalid) return;\n      this.$emit('ok', {\n        addNew: !this.roleGroup,\n        groupName: this.form.groupName,\n        groupPrivilege: this.form.groupPrivilege,\n      });\n      this.closeModal();\n    },\n    closeModal() {\n      this.$nextTick(() => {\n        this.$refs.modal.hide();\n      });\n    },\n    resetForm() {\n      this.form.groupName = null;\n      this.form.groupPrivilege = null;\n      this.v$.$reset();\n      this.$emit('hidden');\n    },\n    onOk(bvModalEvt) {\n      // prevent modal close\n      bvModalEvt.preventDefault();\n      this.handleSubmit();\n    },\n  },\n};\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}