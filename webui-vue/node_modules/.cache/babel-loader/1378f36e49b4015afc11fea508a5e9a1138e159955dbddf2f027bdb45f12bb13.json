{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-4a3e021e\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"h3\"\n};\nconst _hoisted_2 = {\n  class: \"h3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_status_icon = _resolveComponent(\"status-icon\");\n  const _component_b_col = _resolveComponent(\"b-col\");\n  const _component_b_row = _resolveComponent(\"b-row\");\n  const _component_overview_card = _resolveComponent(\"overview-card\");\n  return _openBlock(), _createBlock(_component_overview_card, {\n    data: $options.eventLogData,\n    disabled: $options.eventLogData.length === 0,\n    \"export-button\": true,\n    \"file-name\": $options.exportFileNameByDate(),\n    title: $data.$t('pageOverview.eventLogs'),\n    to: `/logs/event-logs`\n  }, {\n    default: _withCtx(() => [_createVNode(_component_b_row, {\n      class: \"mt-3\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_b_col, {\n        sm: \"6\"\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"dl\", null, [_createElementVNode(\"dt\", null, _toDisplayString($data.$t('pageOverview.criticalEvents')), 1 /* TEXT */), _createElementVNode(\"dd\", _hoisted_1, [_createTextVNode(_toDisplayString(_ctx.dataFormatter($options.criticalEvents.length)) + \" \", 1 /* TEXT */), _createVNode(_component_status_icon, {\n          status: \"danger\"\n        })])])], undefined, true),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_b_col, {\n        sm: \"6\"\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"dl\", null, [_createElementVNode(\"dt\", null, _toDisplayString($data.$t('pageOverview.warningEvents')), 1 /* TEXT */), _createElementVNode(\"dd\", _hoisted_2, [_createTextVNode(_toDisplayString(_ctx.dataFormatter($options.warningEvents.length)) + \" \", 1 /* TEXT */), _createVNode(_component_status_icon, {\n          status: \"warning\"\n        })])])], undefined, true),\n        _: 1 /* STABLE */\n      })], undefined, true),\n      _: 1 /* STABLE */\n    })], undefined, true),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data\", \"disabled\", \"file-name\", \"title\"]);\n}","map":{"version":3,"names":["class","_createBlock","_component_overview_card","data","$options","eventLogData","disabled","length","exportFileNameByDate","title","$data","$t","to","default","_withCtx","_createVNode","_component_b_row","_component_b_col","sm","_createElementVNode","_toDisplayString","_hoisted_1","_createTextVNode","_ctx","dataFormatter","criticalEvents","_component_status_icon","status","_","_hoisted_2","warningEvents"],"sources":["/home/zenchenko/openbmc/build/evb-ast2500/workspace/sources/webui-vue/src/views/Overview/OverviewEvents.vue"],"sourcesContent":["<template>\n  <overview-card\n    :data=\"eventLogData\"\n    :disabled=\"eventLogData.length === 0\"\n    :export-button=\"true\"\n    :file-name=\"exportFileNameByDate()\"\n    :title=\"$t('pageOverview.eventLogs')\"\n    :to=\"`/logs/event-logs`\"\n  >\n    <b-row class=\"mt-3\">\n      <b-col sm=\"6\">\n        <dl>\n          <dt>{{ $t('pageOverview.criticalEvents') }}</dt>\n          <dd class=\"h3\">\n            {{ dataFormatter(criticalEvents.length) }}\n            <status-icon status=\"danger\" />\n          </dd>\n        </dl>\n      </b-col>\n      <b-col sm=\"6\">\n        <dl>\n          <dt>{{ $t('pageOverview.warningEvents') }}</dt>\n          <dd class=\"h3\">\n            {{ dataFormatter(warningEvents.length) }}\n            <status-icon status=\"warning\" />\n          </dd>\n        </dl>\n      </b-col>\n    </b-row>\n  </overview-card>\n</template>\n\n<script>\nimport OverviewCard from './OverviewCard';\nimport StatusIcon from '@/components/Global/StatusIcon';\nimport DataFormatterMixin from '@/components/Mixins/DataFormatterMixin';\nimport { useI18n } from 'vue-i18n';\n\nexport default {\n  name: 'Events',\n  components: { OverviewCard, StatusIcon },\n  mixins: [DataFormatterMixin],\n  data() {\n    return {\n      $t: useI18n().t,\n    };\n  },\n  computed: {\n    eventLogData() {\n      return this.$store.getters['eventLog/allEvents'];\n    },\n    criticalEvents() {\n      return this.eventLogData\n        .filter(\n          (log) =>\n            log.severity === 'Critical' && log.filterByStatus === 'Unresolved',\n        )\n        .map((log) => {\n          return log;\n        });\n    },\n    warningEvents() {\n      return this.eventLogData\n        .filter(\n          (log) =>\n            log.severity === 'Warning' && log.filterByStatus === 'Unresolved',\n        )\n        .map((log) => {\n          return log;\n        });\n    },\n  },\n  created() {\n    this.$store.dispatch('eventLog/getEventLogData').finally(() => {\n      this.$root.$emit('overview-events-complete');\n    });\n  },\n  methods: {\n    exportFileNameByDate() {\n      // Create export file name based on date\n      let date = new Date();\n      date =\n        date.toISOString().slice(0, 10) +\n        '_' +\n        date.toString().split(':').join('-').split(' ')[4];\n      let fileName = 'all_event_logs_';\n      return fileName + date;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/bmc/helpers/_index.scss';\n@import '@/assets/styles/bootstrap/_helpers.scss';\n\n.status-icon {\n  vertical-align: text-top;\n}\n</style>\n"],"mappings":";;;EAacA,KAAK,EAAC;AAAI;;EASVA,KAAK,EAAC;AAAI;;;;;;uBArBtBC,YAAA,CA4BgBC,wBAAA;IA3BbC,IAAI,EAAEC,QAAA,CAAAC,YAAY;IAClBC,QAAQ,EAAEF,QAAA,CAAAC,YAAY,CAACE,MAAM;IAC7B,eAAa,EAAE,IAAI;IACnB,WAAS,EAAEH,QAAA,CAAAI,oBAAoB;IAC/BC,KAAK,EAAEC,KAAA,CAAAC,EAAE;IACTC,EAAE,EAAE;;IAPTC,OAAA,EAAAC,QAAA,CASI,MAmBQ,CAnBRC,YAAA,CAmBQC,gBAAA;MAnBDhB,KAAK,EAAC;IAAM;MATvBa,OAAA,EAAAC,QAAA,CAUM,MAQQ,CARRC,YAAA,CAQQE,gBAAA;QARDC,EAAE,EAAC;MAAG;QAVnBL,OAAA,EAAAC,QAAA,CAWQ,MAMK,CANLK,mBAAA,CAMK,aALHA,mBAAA,CAAgD,YAAAC,gBAAA,CAAzCV,KAAA,CAAAC,EAAE,iDACTQ,mBAAA,CAGK,MAHLE,UAGK,GAhBfC,gBAAA,CAAAF,gBAAA,CAceG,IAAA,CAAAC,aAAa,CAACpB,QAAA,CAAAqB,cAAc,CAAClB,MAAM,KAAI,GAC1C,iBAAAQ,YAAA,CAA+BW,sBAAA;UAAlBC,MAAM,EAAC;QAAQ,G;QAfxCC,CAAA;UAmBMb,YAAA,CAQQE,gBAAA;QARDC,EAAE,EAAC;MAAG;QAnBnBL,OAAA,EAAAC,QAAA,CAoBQ,MAMK,CANLK,mBAAA,CAMK,aALHA,mBAAA,CAA+C,YAAAC,gBAAA,CAAxCV,KAAA,CAAAC,EAAE,gDACTQ,mBAAA,CAGK,MAHLU,UAGK,GAzBfP,gBAAA,CAAAF,gBAAA,CAuBeG,IAAA,CAAAC,aAAa,CAACpB,QAAA,CAAA0B,aAAa,CAACvB,MAAM,KAAI,GACzC,iBAAAQ,YAAA,CAAgCW,sBAAA;UAAnBC,MAAM,EAAC;QAAS,G;QAxBzCC,CAAA;;MAAAA,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}