{"ast":null,"code":"import PageTitle from '@/components/Global/PageTitle';\nimport BVToastMixin from '@/components/Mixins/BVToastMixin';\nimport LoadingBarMixin from '@/components/Mixins/LoadingBarMixin';\nimport ModalReset from './FactoryResetModal';\nimport { useI18n } from 'vue-i18n';\nexport default {\n  name: 'FactoryReset',\n  components: {\n    PageTitle,\n    ModalReset\n  },\n  mixins: [LoadingBarMixin, BVToastMixin],\n  data() {\n    return {\n      $t: useI18n().t,\n      resetOption: 'resetBios'\n    };\n  },\n  created() {\n    this.hideLoader();\n  },\n  methods: {\n    onResetSubmit() {\n      this.$bvModal.show('modal-reset');\n    },\n    onOkConfirm() {\n      if (this.resetOption == 'resetBios') {\n        this.onResetBiosConfirm();\n      } else {\n        this.onResetToDefaultsConfirm();\n      }\n    },\n    onResetBiosConfirm() {\n      this.$store.dispatch('factoryReset/resetBios').then(title => {\n        this.successToast('', {\n          title\n        });\n      }).catch(({\n        message\n      }) => {\n        this.errorToast('', {\n          title: message\n        });\n      });\n    },\n    onResetToDefaultsConfirm() {\n      this.$store.dispatch('factoryReset/resetToDefaults').then(title => {\n        this.successToast('', {\n          title\n        });\n      }).catch(({\n        message\n      }) => {\n        this.errorToast('', {\n          title: message\n        });\n      });\n    }\n  }\n};","map":{"version":3,"names":["PageTitle","BVToastMixin","LoadingBarMixin","ModalReset","useI18n","name","components","mixins","data","$t","t","resetOption","created","hideLoader","methods","onResetSubmit","$bvModal","show","onOkConfirm","onResetBiosConfirm","onResetToDefaultsConfirm","$store","dispatch","then","title","successToast","catch","message","errorToast"],"sources":["/home/zenchenko/openbmc/build/evb-ast2500/workspace/sources/webui-vue/src/views/Operations/FactoryReset/FactoryReset.vue"],"sourcesContent":["<template>\n  <b-container fluid=\"xl\">\n    <page-title :description=\"$t('pageFactoryReset.description')\" />\n\n    <!-- Reset Form -->\n    <b-form id=\"factory-reset\" @submit.prevent=\"onResetSubmit\">\n      <b-row>\n        <b-col md=\"8\">\n          <b-form-group :label=\"$t('pageFactoryReset.form.resetOptionsLabel')\">\n            <b-form-radio-group\n              id=\"factory-reset-options\"\n              v-model=\"resetOption\"\n              stacked\n            >\n              <b-form-radio\n                class=\"mb-1\"\n                value=\"resetBios\"\n                aria-describedby=\"reset-bios\"\n                data-test-id=\"factoryReset-radio-resetBios\"\n              >\n                {{ $t('pageFactoryReset.form.resetBiosOptionLabel') }}\n              </b-form-radio>\n              <b-form-text id=\"reset-bios\" class=\"ml-4 mb-3\">\n                {{ $t('pageFactoryReset.form.resetBiosOptionHelperText') }}\n              </b-form-text>\n\n              <b-form-radio\n                class=\"mb-1\"\n                value=\"resetToDefaults\"\n                aria-describedby=\"reset-to-defaults\"\n                data-test-id=\"factoryReset-radio-resetToDefaults\"\n              >\n                {{ $t('pageFactoryReset.form.resetToDefaultsOptionLabel') }}\n              </b-form-radio>\n              <b-form-text id=\"reset-to-defaults\" class=\"ml-4 mb-3\">\n                {{\n                  $t('pageFactoryReset.form.resetToDefaultsOptionHelperText')\n                }}\n              </b-form-text>\n            </b-form-radio-group>\n          </b-form-group>\n          <b-button\n            type=\"submit\"\n            variant=\"primary\"\n            data-test-id=\"factoryReset-button-submit\"\n          >\n            {{ $t('global.action.reset') }}\n          </b-button>\n        </b-col>\n      </b-row>\n    </b-form>\n\n    <!-- Modals -->\n    <modal-reset :reset-type=\"resetOption\" @ok-confirm=\"onOkConfirm\" />\n  </b-container>\n</template>\n\n<script>\nimport PageTitle from '@/components/Global/PageTitle';\nimport BVToastMixin from '@/components/Mixins/BVToastMixin';\nimport LoadingBarMixin from '@/components/Mixins/LoadingBarMixin';\nimport ModalReset from './FactoryResetModal';\nimport { useI18n } from 'vue-i18n';\n\nexport default {\n  name: 'FactoryReset',\n  components: { PageTitle, ModalReset },\n  mixins: [LoadingBarMixin, BVToastMixin],\n  data() {\n    return {\n      $t: useI18n().t,\n      resetOption: 'resetBios',\n    };\n  },\n  created() {\n    this.hideLoader();\n  },\n  methods: {\n    onResetSubmit() {\n      this.$bvModal.show('modal-reset');\n    },\n    onOkConfirm() {\n      if (this.resetOption == 'resetBios') {\n        this.onResetBiosConfirm();\n      } else {\n        this.onResetToDefaultsConfirm();\n      }\n    },\n    onResetBiosConfirm() {\n      this.$store\n        .dispatch('factoryReset/resetBios')\n        .then((title) => {\n          this.successToast('', {\n            title,\n          });\n        })\n        .catch(({ message }) => {\n          this.errorToast('', {\n            title: message,\n          });\n        });\n    },\n    onResetToDefaultsConfirm() {\n      this.$store\n        .dispatch('factoryReset/resetToDefaults')\n        .then((title) => {\n          this.successToast('', {\n            title,\n          });\n        })\n        .catch(({ message }) => {\n          this.errorToast('', {\n            title: message,\n          });\n        });\n    },\n  },\n};\n</script>\n"],"mappings":"AA0DA,OAAOA,SAAQ,MAAO,+BAA+B;AACrD,OAAOC,YAAW,MAAO,kCAAkC;AAC3D,OAAOC,eAAc,MAAO,qCAAqC;AACjE,OAAOC,UAAS,MAAO,qBAAqB;AAC5C,SAASC,OAAM,QAAS,UAAU;AAElC,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,UAAU,EAAE;IAAEN,SAAS;IAAEG;EAAW,CAAC;EACrCI,MAAM,EAAE,CAACL,eAAe,EAAED,YAAY,CAAC;EACvCO,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,EAAE,EAAEL,OAAO,CAAC,CAAC,CAACM,CAAC;MACfC,WAAW,EAAE;IACf,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,UAAU,CAAC,CAAC;EACnB,CAAC;EACDC,OAAO,EAAE;IACPC,aAAaA,CAAA,EAAG;MACd,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAC,aAAa,CAAC;IACnC,CAAC;IACDC,WAAWA,CAAA,EAAG;MACZ,IAAI,IAAI,CAACP,WAAU,IAAK,WAAW,EAAE;QACnC,IAAI,CAACQ,kBAAkB,CAAC,CAAC;MAC3B,OAAO;QACL,IAAI,CAACC,wBAAwB,CAAC,CAAC;MACjC;IACF,CAAC;IACDD,kBAAkBA,CAAA,EAAG;MACnB,IAAI,CAACE,MAAK,CACPC,QAAQ,CAAC,wBAAwB,EACjCC,IAAI,CAAEC,KAAK,IAAK;QACf,IAAI,CAACC,YAAY,CAAC,EAAE,EAAE;UACpBD;QACF,CAAC,CAAC;MACJ,CAAC,EACAE,KAAK,CAAC,CAAC;QAAEC;MAAQ,CAAC,KAAK;QACtB,IAAI,CAACC,UAAU,CAAC,EAAE,EAAE;UAClBJ,KAAK,EAAEG;QACT,CAAC,CAAC;MACJ,CAAC,CAAC;IACN,CAAC;IACDP,wBAAwBA,CAAA,EAAG;MACzB,IAAI,CAACC,MAAK,CACPC,QAAQ,CAAC,8BAA8B,EACvCC,IAAI,CAAEC,KAAK,IAAK;QACf,IAAI,CAACC,YAAY,CAAC,EAAE,EAAE;UACpBD;QACF,CAAC,CAAC;MACJ,CAAC,EACAE,KAAK,CAAC,CAAC;QAAEC;MAAQ,CAAC,KAAK;QACtB,IAAI,CAACC,UAAU,CAAC,EAAE,EAAE;UAClBJ,KAAK,EAAEG;QACT,CAAC,CAAC;MACJ,CAAC,CAAC;IACN;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}