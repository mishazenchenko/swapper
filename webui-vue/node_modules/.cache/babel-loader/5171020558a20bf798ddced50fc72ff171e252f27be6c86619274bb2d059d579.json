{"ast":null,"code":"import IconFilter from '@carbon/icons-vue/es/settings--adjust/20';\nimport { useI18n } from 'vue-i18n';\nexport default {\n  name: 'TableFilter',\n  components: {\n    IconFilter\n  },\n  props: {\n    filters: {\n      type: Array,\n      default: () => [],\n      validator: prop => {\n        return prop.every(filter => 'label' in filter && 'values' in filter && 'key' in filter);\n      }\n    }\n  },\n  data() {\n    return {\n      $t: useI18n().t,\n      dropdownVisible: false,\n      tags: []\n    };\n  },\n  watch: {\n    tags: {\n      handler() {\n        this.emitChange();\n      },\n      deep: true\n    }\n  },\n  methods: {\n    removeTag(removedTag) {\n      this.tags = this.tags.filter(tag => tag !== removedTag);\n    },\n    clearAllTags() {\n      this.tags = [];\n    },\n    emitChange() {\n      const activeFilters = this.filters.map(({\n        key,\n        values\n      }) => {\n        const activeValues = values.filter(value => this.tags.indexOf(value) !== -1);\n        return {\n          key,\n          values: activeValues\n        };\n      });\n      this.$emit('filter-change', {\n        activeFilters\n      });\n    }\n  }\n};","map":{"version":3,"names":["IconFilter","useI18n","name","components","props","filters","type","Array","default","validator","prop","every","filter","data","$t","t","dropdownVisible","tags","watch","handler","emitChange","deep","methods","removeTag","removedTag","tag","clearAllTags","activeFilters","map","key","values","activeValues","value","indexOf","$emit"],"sources":["/home/zenchenko/openbmc/build/evb-ast2500/workspace/sources/webui-vue/src/components/Global/TableFilter.vue"],"sourcesContent":["<template>\n  <div class=\"table-filter d-inline-block\">\n    <p class=\"d-inline-block mb-0\">\n      <b-badge v-for=\"(tag, index) in tags\" :key=\"index\" pill>\n        {{ tag }}\n        <b-button-close\n          :disabled=\"dropdownVisible\"\n          :aria-hidden=\"true\"\n          @click=\"removeTag(tag)\"\n        />\n      </b-badge>\n    </p>\n    <b-dropdown\n      variant=\"link\"\n      no-caret\n      right\n      data-test-id=\"tableFilter-dropdown-options\"\n      @hide=\"dropdownVisible = false\"\n      @show=\"dropdownVisible = true\"\n    >\n      <template #button-content>\n        <icon-filter />\n        {{ $t('global.action.filter') }}\n      </template>\n      <b-dropdown-form>\n        <b-form-group\n          v-for=\"(filter, index) of filters\"\n          :key=\"index\"\n          :label=\"filter.label\"\n        >\n          <b-form-checkbox-group v-model=\"tags\">\n            <b-form-checkbox\n              v-for=\"value in filter.values\"\n              :key=\"value\"\n              :value=\"value\"\n              :data-test-id=\"`tableFilter-checkbox-${value}`\"\n            >\n              <b-dropdown-item>\n                {{ value }}\n              </b-dropdown-item>\n            </b-form-checkbox>\n          </b-form-checkbox-group>\n        </b-form-group>\n      </b-dropdown-form>\n      <b-dropdown-item-button\n        variant=\"primary\"\n        data-test-id=\"tableFilter-button-clearAll\"\n        @click=\"clearAllTags\"\n      >\n        {{ $t('global.action.clearAll') }}\n      </b-dropdown-item-button>\n    </b-dropdown>\n  </div>\n</template>\n\n<script>\nimport IconFilter from '@carbon/icons-vue/es/settings--adjust/20';\nimport { useI18n } from 'vue-i18n';\n\nexport default {\n  name: 'TableFilter',\n  components: { IconFilter },\n  props: {\n    filters: {\n      type: Array,\n      default: () => [],\n      validator: (prop) => {\n        return prop.every(\n          (filter) =>\n            'label' in filter && 'values' in filter && 'key' in filter,\n        );\n      },\n    },\n  },\n  data() {\n    return {\n      $t: useI18n().t,\n      dropdownVisible: false,\n      tags: [],\n    };\n  },\n  watch: {\n    tags: {\n      handler() {\n        this.emitChange();\n      },\n      deep: true,\n    },\n  },\n  methods: {\n    removeTag(removedTag) {\n      this.tags = this.tags.filter((tag) => tag !== removedTag);\n    },\n    clearAllTags() {\n      this.tags = [];\n    },\n    emitChange() {\n      const activeFilters = this.filters.map(({ key, values }) => {\n        const activeValues = values.filter(\n          (value) => this.tags.indexOf(value) !== -1,\n        );\n        return {\n          key,\n          values: activeValues,\n        };\n      });\n      this.$emit('filter-change', { activeFilters });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/bmc/helpers/_index.scss';\n@import '@/assets/styles/bootstrap/_helpers.scss';\n\n@import 'bootstrap/dist/css/bootstrap.css';\n\n.badge {\n  margin-right: $spacer / 2;\n}\n</style>\n"],"mappings":"AAwDA,OAAOA,UAAS,MAAO,0CAA0C;AACjE,SAASC,OAAM,QAAS,UAAU;AAElC,eAAe;EACbC,IAAI,EAAE,aAAa;EACnBC,UAAU,EAAE;IAAEH;EAAW,CAAC;EAC1BI,KAAK,EAAE;IACLC,OAAO,EAAE;MACPC,IAAI,EAAEC,KAAK;MACXC,OAAO,EAAEA,CAAA,KAAM,EAAE;MACjBC,SAAS,EAAGC,IAAI,IAAK;QACnB,OAAOA,IAAI,CAACC,KAAK,CACdC,MAAM,IACL,OAAM,IAAKA,MAAK,IAAK,QAAO,IAAKA,MAAK,IAAK,KAAI,IAAKA,MACxD,CAAC;MACH;IACF;EACF,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,EAAE,EAAEb,OAAO,CAAC,CAAC,CAACc,CAAC;MACfC,eAAe,EAAE,KAAK;MACtBC,IAAI,EAAE;IACR,CAAC;EACH,CAAC;EACDC,KAAK,EAAE;IACLD,IAAI,EAAE;MACJE,OAAOA,CAAA,EAAG;QACR,IAAI,CAACC,UAAU,CAAC,CAAC;MACnB,CAAC;MACDC,IAAI,EAAE;IACR;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,SAASA,CAACC,UAAU,EAAE;MACpB,IAAI,CAACP,IAAG,GAAI,IAAI,CAACA,IAAI,CAACL,MAAM,CAAEa,GAAG,IAAKA,GAAE,KAAMD,UAAU,CAAC;IAC3D,CAAC;IACDE,YAAYA,CAAA,EAAG;MACb,IAAI,CAACT,IAAG,GAAI,EAAE;IAChB,CAAC;IACDG,UAAUA,CAAA,EAAG;MACX,MAAMO,aAAY,GAAI,IAAI,CAACtB,OAAO,CAACuB,GAAG,CAAC,CAAC;QAAEC,GAAG;QAAEC;MAAO,CAAC,KAAK;QAC1D,MAAMC,YAAW,GAAID,MAAM,CAAClB,MAAM,CAC/BoB,KAAK,IAAK,IAAI,CAACf,IAAI,CAACgB,OAAO,CAACD,KAAK,MAAM,CAAC,CAC3C,CAAC;QACD,OAAO;UACLH,GAAG;UACHC,MAAM,EAAEC;QACV,CAAC;MACH,CAAC,CAAC;MACF,IAAI,CAACG,KAAK,CAAC,eAAe,EAAE;QAAEP;MAAc,CAAC,CAAC;IAChD;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}