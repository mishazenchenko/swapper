{"ast":null,"code":"import PageTitle from '@/components/Global/PageTitle';\nimport BVToastMixin from '@/components/Mixins/BVToastMixin';\nimport LoadingBarMixin from '@/components/Mixins/LoadingBarMixin';\nimport Alert from '@/components/Global/Alert';\nimport { useI18n } from 'vue-i18n';\nimport i18n from '@/i18n';\nexport default {\n  name: 'KeyClear',\n  components: {\n    PageTitle,\n    Alert\n  },\n  mixins: [LoadingBarMixin, BVToastMixin],\n  data() {\n    return {\n      $t: useI18n().t,\n      keyOption: 'NONE',\n      username: this.$store.getters['global/username']\n    };\n  },\n  created() {\n    this.hideLoader();\n  },\n  methods: {\n    onKeyClearSubmit(valueSelected) {\n      this.$bvModal.msgBoxConfirm(i18n.global.t('pageKeyClear.modal.clearAllMessage'), {\n        title: i18n.global.t('pageKeyClear.modal.clearAllTitle'),\n        okTitle: i18n.global.t('pageKeyClear.modal.clear'),\n        okVariant: 'danger',\n        cancelTitle: i18n.global.t('global.action.cancel'),\n        autoFocusButton: 'cancel'\n      }).then(clearConfirmed => {\n        if (clearConfirmed) {\n          this.$store.dispatch('keyClear/clearEncryptionKeys', valueSelected).then(message => this.successToast(message)).catch(({\n            message\n          }) => this.errorToast(message));\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["PageTitle","BVToastMixin","LoadingBarMixin","Alert","useI18n","i18n","name","components","mixins","data","$t","t","keyOption","username","$store","getters","created","hideLoader","methods","onKeyClearSubmit","valueSelected","$bvModal","msgBoxConfirm","global","title","okTitle","okVariant","cancelTitle","autoFocusButton","then","clearConfirmed","dispatch","message","successToast","catch","errorToast"],"sources":["/home/zenchenko/openbmc/build/evb-ast2500/workspace/sources/webui-vue/src/views/Operations/KeyClear/KeyClear.vue"],"sourcesContent":["<template>\n  <b-container fluid=\"xl\">\n    <page-title :description=\"$t('pageKeyClear.description')\" />\n    <b-row>\n      <b-col md=\"8\" xl=\"6\">\n        <alert variant=\"info\" class=\"mb-4\">\n          <div class=\"font-weight-bold\">\n            {{ $t('pageKeyClear.alert.title') }}\n          </div>\n          <div>\n            {{ $t('pageKeyClear.alert.description') }}\n          </div>\n        </alert>\n      </b-col>\n    </b-row>\n    <!-- Reset Form -->\n    <b-form id=\"key-clear\" @submit.prevent=\"onKeyClearSubmit(keyOption)\">\n      <b-row>\n        <b-col md=\"8\">\n          <b-form-group :label=\"$t('pageKeyClear.form.keyClearOptionsLabel')\">\n            <b-form-radio-group\n              id=\"key-clear-options\"\n              v-model=\"keyOption\"\n              stacked\n            >\n              <b-form-radio class=\"mb-1\" value=\"NONE\">\n                {{ $t('pageKeyClear.form.none') }}\n              </b-form-radio>\n              <b-form-text id=\"key-clear-not-requested\" class=\"ml-4 mb-3\">\n                {{ $t('pageKeyClear.form.keyClearNotRequested') }}\n              </b-form-text>\n              <b-form-radio class=\"mb-1\" value=\"ALL\">\n                {{ $t('pageKeyClear.form.clearAllLabel') }}\n              </b-form-radio>\n              <b-form-text id=\"clear-all\" class=\"ml-4 mb-3\">\n                {{ $t('pageKeyClear.form.clearAllHeperText') }}\n              </b-form-text>\n              <b-form-radio class=\"mb-1\" value=\"POWERVM_SYSKEY\">\n                {{ $t('pageKeyClear.form.clearHypervisorSystemKeyLabel') }}\n              </b-form-radio>\n              <b-form-text id=\"clear-hypervisor-key\" class=\"ml-4 mb-3\">\n                {{ $t('pageKeyClear.form.clearHypervisorSystemKeyHelperText') }}\n              </b-form-text>\n              <template v-if=\"username == 'service'\">\n                <b-form-radio class=\"mb-1\" value=\"MFG_ALL\">\n                  {{ $t('pageKeyClear.form.clearAllSetGenesisIPL') }}\n                </b-form-radio>\n                <b-form-radio class=\"mb-1\" value=\"MFG\">\n                  {{ $t('pageKeyClear.form.setFactoryDefault') }}\n                </b-form-radio>\n              </template>\n            </b-form-radio-group>\n          </b-form-group>\n          <b-button\n            type=\"submit\"\n            variant=\"primary\"\n            data-test-id=\"keyClear-button-submit\"\n          >\n            {{ $t('pageKeyClear.form.clear') }}\n          </b-button>\n        </b-col>\n      </b-row>\n    </b-form>\n  </b-container>\n</template>\n\n<script>\nimport PageTitle from '@/components/Global/PageTitle';\nimport BVToastMixin from '@/components/Mixins/BVToastMixin';\nimport LoadingBarMixin from '@/components/Mixins/LoadingBarMixin';\nimport Alert from '@/components/Global/Alert';\nimport { useI18n } from 'vue-i18n';\nimport i18n from '@/i18n';\n\nexport default {\n  name: 'KeyClear',\n  components: { PageTitle, Alert },\n  mixins: [LoadingBarMixin, BVToastMixin],\n  data() {\n    return {\n      $t: useI18n().t,\n      keyOption: 'NONE',\n      username: this.$store.getters['global/username'],\n    };\n  },\n  created() {\n    this.hideLoader();\n  },\n  methods: {\n    onKeyClearSubmit(valueSelected) {\n      this.$bvModal\n        .msgBoxConfirm(i18n.global.t('pageKeyClear.modal.clearAllMessage'), {\n          title: i18n.global.t('pageKeyClear.modal.clearAllTitle'),\n          okTitle: i18n.global.t('pageKeyClear.modal.clear'),\n          okVariant: 'danger',\n          cancelTitle: i18n.global.t('global.action.cancel'),\n          autoFocusButton: 'cancel',\n        })\n        .then((clearConfirmed) => {\n          if (clearConfirmed) {\n            this.$store\n              .dispatch('keyClear/clearEncryptionKeys', valueSelected)\n              .then((message) => this.successToast(message))\n              .catch(({ message }) => this.errorToast(message));\n          }\n        });\n    },\n  },\n};\n</script>\n"],"mappings":"AAmEA,OAAOA,SAAQ,MAAO,+BAA+B;AACrD,OAAOC,YAAW,MAAO,kCAAkC;AAC3D,OAAOC,eAAc,MAAO,qCAAqC;AACjE,OAAOC,KAAI,MAAO,2BAA2B;AAC7C,SAASC,OAAM,QAAS,UAAU;AAClC,OAAOC,IAAG,MAAO,QAAQ;AAEzB,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,UAAU,EAAE;IAAEP,SAAS;IAAEG;EAAM,CAAC;EAChCK,MAAM,EAAE,CAACN,eAAe,EAAED,YAAY,CAAC;EACvCQ,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,EAAE,EAAEN,OAAO,CAAC,CAAC,CAACO,CAAC;MACfC,SAAS,EAAE,MAAM;MACjBC,QAAQ,EAAE,IAAI,CAACC,MAAM,CAACC,OAAO,CAAC,iBAAiB;IACjD,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,UAAU,CAAC,CAAC;EACnB,CAAC;EACDC,OAAO,EAAE;IACPC,gBAAgBA,CAACC,aAAa,EAAE;MAC9B,IAAI,CAACC,QAAO,CACTC,aAAa,CAACjB,IAAI,CAACkB,MAAM,CAACZ,CAAC,CAAC,oCAAoC,CAAC,EAAE;QAClEa,KAAK,EAAEnB,IAAI,CAACkB,MAAM,CAACZ,CAAC,CAAC,kCAAkC,CAAC;QACxDc,OAAO,EAAEpB,IAAI,CAACkB,MAAM,CAACZ,CAAC,CAAC,0BAA0B,CAAC;QAClDe,SAAS,EAAE,QAAQ;QACnBC,WAAW,EAAEtB,IAAI,CAACkB,MAAM,CAACZ,CAAC,CAAC,sBAAsB,CAAC;QAClDiB,eAAe,EAAE;MACnB,CAAC,EACAC,IAAI,CAAEC,cAAc,IAAK;QACxB,IAAIA,cAAc,EAAE;UAClB,IAAI,CAAChB,MAAK,CACPiB,QAAQ,CAAC,8BAA8B,EAAEX,aAAa,EACtDS,IAAI,CAAEG,OAAO,IAAK,IAAI,CAACC,YAAY,CAACD,OAAO,CAAC,EAC5CE,KAAK,CAAC,CAAC;YAAEF;UAAQ,CAAC,KAAK,IAAI,CAACG,UAAU,CAACH,OAAO,CAAC,CAAC;QACrD;MACF,CAAC,CAAC;IACN;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}