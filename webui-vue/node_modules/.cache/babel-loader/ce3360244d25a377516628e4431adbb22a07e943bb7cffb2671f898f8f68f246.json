{"ast":null,"code":"import { useI18n } from 'vue-i18n';\nexport default {\n  data() {\n    return {\n      $t: useI18n().t,\n      loadingIndicatorValue: 0,\n      isLoadingComplete: false,\n      loadingIntervalId: null,\n      timeoutId: null\n    };\n  },\n  created() {\n    this.$root.$on('loader-start', () => {\n      this.startLoadingInterval();\n    });\n    this.$root.$on('loader-end', () => {\n      this.endLoadingInterval();\n    });\n    this.$root.$on('loader-hide', () => {\n      this.hideLoadingBar();\n    });\n  },\n  methods: {\n    startLoadingInterval() {\n      this.clearLoadingInterval();\n      this.clearTimeout();\n      this.loadingIndicatorValue = 0;\n      this.isLoadingComplete = false;\n      this.loadingIntervalId = setInterval(() => {\n        this.loadingIndicatorValue += 1;\n        if (this.loadingIndicatorValue > 100) this.clearLoadingInterval();\n      }, 100);\n    },\n    endLoadingInterval() {\n      this.clearLoadingInterval();\n      this.clearTimeout();\n      this.loadingIndicatorValue = 100;\n      this.timeoutId = setTimeout(() => {\n        // Let animation complete before hiding\n        // the loading bar\n        this.isLoadingComplete = true;\n      }, 1000);\n    },\n    hideLoadingBar() {\n      this.clearLoadingInterval();\n      this.clearTimeout();\n      this.loadingIndicatorValue = 0;\n      this.isLoadingComplete = true;\n    },\n    clearLoadingInterval() {\n      if (this.loadingIntervalId) clearInterval(this.loadingIntervalId);\n      this.loadingIntervalId = null;\n    },\n    clearTimeout() {\n      if (this.timeoutId) clearTimeout(this.timeoutId);\n      this.timeoutId = null;\n    }\n  }\n};","map":{"version":3,"names":["useI18n","data","$t","t","loadingIndicatorValue","isLoadingComplete","loadingIntervalId","timeoutId","created","$root","$on","startLoadingInterval","endLoadingInterval","hideLoadingBar","methods","clearLoadingInterval","clearTimeout","setInterval","setTimeout","clearInterval"],"sources":["/home/zenchenko/openbmc/build/evb-ast2500/workspace/sources/webui-vue/src/components/Global/LoadingBar.vue"],"sourcesContent":["<template>\n  <transition name=\"fade\">\n    <b-progress v-if=\"!isLoadingComplete\">\n      <b-progress-bar\n        striped\n        animated\n        :value=\"loadingIndicatorValue\"\n        :aria-label=\"$t('global.ariaLabel.progressBar')\"\n      />\n    </b-progress>\n  </transition>\n</template>\n\n<script>\nimport { useI18n } from 'vue-i18n';\nexport default {\n  data() {\n    return {\n      $t: useI18n().t,\n      loadingIndicatorValue: 0,\n      isLoadingComplete: false,\n      loadingIntervalId: null,\n      timeoutId: null,\n    };\n  },\n  created() {\n    this.$root.$on('loader-start', () => {\n      this.startLoadingInterval();\n    });\n    this.$root.$on('loader-end', () => {\n      this.endLoadingInterval();\n    });\n    this.$root.$on('loader-hide', () => {\n      this.hideLoadingBar();\n    });\n  },\n  methods: {\n    startLoadingInterval() {\n      this.clearLoadingInterval();\n      this.clearTimeout();\n      this.loadingIndicatorValue = 0;\n      this.isLoadingComplete = false;\n      this.loadingIntervalId = setInterval(() => {\n        this.loadingIndicatorValue += 1;\n        if (this.loadingIndicatorValue > 100) this.clearLoadingInterval();\n      }, 100);\n    },\n    endLoadingInterval() {\n      this.clearLoadingInterval();\n      this.clearTimeout();\n      this.loadingIndicatorValue = 100;\n      this.timeoutId = setTimeout(() => {\n        // Let animation complete before hiding\n        // the loading bar\n        this.isLoadingComplete = true;\n      }, 1000);\n    },\n    hideLoadingBar() {\n      this.clearLoadingInterval();\n      this.clearTimeout();\n      this.loadingIndicatorValue = 0;\n      this.isLoadingComplete = true;\n    },\n    clearLoadingInterval() {\n      if (this.loadingIntervalId) clearInterval(this.loadingIntervalId);\n      this.loadingIntervalId = null;\n    },\n    clearTimeout() {\n      if (this.timeoutId) clearTimeout(this.timeoutId);\n      this.timeoutId = null;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/bmc/helpers/_index.scss';\n@import '@/assets/styles/bootstrap/_helpers.scss';\n\n.progress {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: -0.4rem;\n  opacity: 1;\n  transition: opacity $duration--moderate-01 $standard-easing--productive;\n  height: 0.4rem;\n\n  &.fade-enter, // Remove this vue2 based only class when switching to vue3\n  &.fade-enter-from, // This is vue3 based only class modified from 'fade-enter'\n  &.fade-leave-to {\n    opacity: 0;\n  }\n}\n.progress-bar {\n  background-color: $loading-color;\n}\n</style>\n"],"mappings":"AAcA,SAASA,OAAM,QAAS,UAAU;AAClC,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,EAAE,EAAEF,OAAO,CAAC,CAAC,CAACG,CAAC;MACfC,qBAAqB,EAAE,CAAC;MACxBC,iBAAiB,EAAE,KAAK;MACxBC,iBAAiB,EAAE,IAAI;MACvBC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,KAAK,CAACC,GAAG,CAAC,cAAc,EAAE,MAAM;MACnC,IAAI,CAACC,oBAAoB,CAAC,CAAC;IAC7B,CAAC,CAAC;IACF,IAAI,CAACF,KAAK,CAACC,GAAG,CAAC,YAAY,EAAE,MAAM;MACjC,IAAI,CAACE,kBAAkB,CAAC,CAAC;IAC3B,CAAC,CAAC;IACF,IAAI,CAACH,KAAK,CAACC,GAAG,CAAC,aAAa,EAAE,MAAM;MAClC,IAAI,CAACG,cAAc,CAAC,CAAC;IACvB,CAAC,CAAC;EACJ,CAAC;EACDC,OAAO,EAAE;IACPH,oBAAoBA,CAAA,EAAG;MACrB,IAAI,CAACI,oBAAoB,CAAC,CAAC;MAC3B,IAAI,CAACC,YAAY,CAAC,CAAC;MACnB,IAAI,CAACZ,qBAAoB,GAAI,CAAC;MAC9B,IAAI,CAACC,iBAAgB,GAAI,KAAK;MAC9B,IAAI,CAACC,iBAAgB,GAAIW,WAAW,CAAC,MAAM;QACzC,IAAI,CAACb,qBAAoB,IAAK,CAAC;QAC/B,IAAI,IAAI,CAACA,qBAAoB,GAAI,GAAG,EAAE,IAAI,CAACW,oBAAoB,CAAC,CAAC;MACnE,CAAC,EAAE,GAAG,CAAC;IACT,CAAC;IACDH,kBAAkBA,CAAA,EAAG;MACnB,IAAI,CAACG,oBAAoB,CAAC,CAAC;MAC3B,IAAI,CAACC,YAAY,CAAC,CAAC;MACnB,IAAI,CAACZ,qBAAoB,GAAI,GAAG;MAChC,IAAI,CAACG,SAAQ,GAAIW,UAAU,CAAC,MAAM;QAChC;QACA;QACA,IAAI,CAACb,iBAAgB,GAAI,IAAI;MAC/B,CAAC,EAAE,IAAI,CAAC;IACV,CAAC;IACDQ,cAAcA,CAAA,EAAG;MACf,IAAI,CAACE,oBAAoB,CAAC,CAAC;MAC3B,IAAI,CAACC,YAAY,CAAC,CAAC;MACnB,IAAI,CAACZ,qBAAoB,GAAI,CAAC;MAC9B,IAAI,CAACC,iBAAgB,GAAI,IAAI;IAC/B,CAAC;IACDU,oBAAoBA,CAAA,EAAG;MACrB,IAAI,IAAI,CAACT,iBAAiB,EAAEa,aAAa,CAAC,IAAI,CAACb,iBAAiB,CAAC;MACjE,IAAI,CAACA,iBAAgB,GAAI,IAAI;IAC/B,CAAC;IACDU,YAAYA,CAAA,EAAG;MACb,IAAI,IAAI,CAACT,SAAS,EAAES,YAAY,CAAC,IAAI,CAACT,SAAS,CAAC;MAChD,IAAI,CAACA,SAAQ,GAAI,IAAI;IACvB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}