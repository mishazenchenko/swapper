{"ast":null,"code":"import StatusIcon from '@/components/Global/StatusIcon';\nimport VuelidateMixin from '@/components/Mixins/VuelidateMixin';\nimport { useVuelidate } from '@vuelidate/core';\nimport { useI18n } from 'vue-i18n';\nexport default {\n  components: {\n    StatusIcon\n  },\n  mixins: [VuelidateMixin],\n  props: {\n    resetType: {\n      type: String,\n      default: null\n    }\n  },\n  setup() {\n    return {\n      v$: useVuelidate()\n    };\n  },\n  data() {\n    return {\n      $t: useI18n().t,\n      confirm: false\n    };\n  },\n  computed: {\n    serverStatus() {\n      return this.$store.getters['global/serverStatus'];\n    },\n    isServerOff() {\n      return this.serverStatus === 'off' ? true : false;\n    }\n  },\n  validations: {\n    confirm: {\n      mustBeTrue: function (value) {\n        return this.isServerOff || value === true;\n      }\n    }\n  },\n  methods: {\n    handleConfirm() {\n      this.v$.$touch();\n      if (this.v$.$invalid) return;\n      this.$emit('okConfirm');\n      this.$nextTick(() => this.$refs.modal.hide());\n      this.resetConfirm();\n    },\n    resetConfirm() {\n      this.confirm = false;\n      this.v$.$reset();\n    }\n  }\n};","map":{"version":3,"names":["StatusIcon","VuelidateMixin","useVuelidate","useI18n","components","mixins","props","resetType","type","String","default","setup","v$","data","$t","t","confirm","computed","serverStatus","$store","getters","isServerOff","validations","mustBeTrue","value","methods","handleConfirm","$touch","$invalid","$emit","$nextTick","$refs","modal","hide","resetConfirm","$reset"],"sources":["/home/zenchenko/openbmc/build/evb-ast2500/workspace/sources/webui-vue/src/views/Operations/FactoryReset/FactoryResetModal.vue"],"sourcesContent":["<template>\n  <b-modal\n    id=\"modal-reset\"\n    ref=\"modal\"\n    :title=\"$t(`pageFactoryReset.modal.${resetType}Title`)\"\n    title-tag=\"h2\"\n    @hidden=\"resetConfirm\"\n  >\n    <p class=\"mb-2\">\n      <strong>{{ $t(`pageFactoryReset.modal.${resetType}Header`) }}</strong>\n    </p>\n    <ul v-if=\"resetType == 'resetBios'\" class=\"pl-3 mb-4\">\n      <li class=\"mt-1 mb-1\">\n        {{ $t('pageFactoryReset.modal.resetBiosSettingsList.item1') }}\n      </li>\n      <li class=\"mt-1 mb-1\">\n        {{ $t('pageFactoryReset.modal.resetBiosSettingsList.item2') }}\n      </li>\n    </ul>\n    <ul v-else-if=\"resetType == 'resetToDefaults'\" class=\"pl-3 mb-4\">\n      <li class=\"mt-1 mb-1\">\n        {{ $t('pageFactoryReset.modal.resetToDefaultsSettingsList.item1') }}\n      </li>\n      <li class=\"mt-1 mb-1\">\n        {{ $t('pageFactoryReset.modal.resetToDefaultsSettingsList.item2') }}\n      </li>\n      <li class=\"mt-1 mb-1\">\n        {{ $t('pageFactoryReset.modal.resetToDefaultsSettingsList.item3') }}\n      </li>\n      <li class=\"mt-1 mb-1\">\n        {{ $t('pageFactoryReset.modal.resetToDefaultsSettingsList.item4') }}\n      </li>\n    </ul>\n\n    <!-- Warning message -->\n    <template v-if=\"!isServerOff\">\n      <p class=\"d-flex mb-2\">\n        <status-icon status=\"danger\" />\n        <span id=\"reset-to-default-warning\" class=\"ml-1\">\n          {{ $t(`pageFactoryReset.modal.resetWarningMessage`) }}\n        </span>\n      </p>\n      <b-form-checkbox\n        v-model=\"confirm\"\n        aria-describedby=\"reset-to-default-warning\"\n        @input=\"v$.confirm.$touch()\"\n      >\n        {{ $t(`pageFactoryReset.modal.resetWarningCheckLabel`) }}\n      </b-form-checkbox>\n      <b-form-invalid-feedback\n        role=\"alert\"\n        :state=\"getValidationState(v$.confirm)\"\n      >\n        {{ $t('global.form.fieldRequired') }}\n      </b-form-invalid-feedback>\n    </template>\n\n    <template #modal-footer=\"{ cancel }\">\n      <b-button\n        variant=\"secondary\"\n        data-test-id=\"factoryReset-button-cancel\"\n        @click=\"cancel()\"\n      >\n        {{ $t('global.action.cancel') }}\n      </b-button>\n      <b-button\n        type=\"sumbit\"\n        variant=\"primary\"\n        data-test-id=\"factoryReset-button-confirm\"\n        @click=\"handleConfirm\"\n      >\n        {{ $t(`pageFactoryReset.modal.${resetType}SubmitText`) }}\n      </b-button>\n    </template>\n  </b-modal>\n</template>\n<script>\nimport StatusIcon from '@/components/Global/StatusIcon';\nimport VuelidateMixin from '@/components/Mixins/VuelidateMixin';\nimport { useVuelidate } from '@vuelidate/core';\nimport { useI18n } from 'vue-i18n';\n\nexport default {\n  components: { StatusIcon },\n  mixins: [VuelidateMixin],\n  props: {\n    resetType: {\n      type: String,\n      default: null,\n    },\n  },\n  setup() {\n    return {\n      v$: useVuelidate(),\n    };\n  },\n  data() {\n    return {\n      $t: useI18n().t,\n      confirm: false,\n    };\n  },\n  computed: {\n    serverStatus() {\n      return this.$store.getters['global/serverStatus'];\n    },\n    isServerOff() {\n      return this.serverStatus === 'off' ? true : false;\n    },\n  },\n  validations: {\n    confirm: {\n      mustBeTrue: function (value) {\n        return this.isServerOff || value === true;\n      },\n    },\n  },\n  methods: {\n    handleConfirm() {\n      this.v$.$touch();\n      if (this.v$.$invalid) return;\n      this.$emit('okConfirm');\n      this.$nextTick(() => this.$refs.modal.hide());\n      this.resetConfirm();\n    },\n    resetConfirm() {\n      this.confirm = false;\n      this.v$.$reset();\n    },\n  },\n};\n</script>\n"],"mappings":"AA6EA,OAAOA,UAAS,MAAO,gCAAgC;AACvD,OAAOC,cAAa,MAAO,oCAAoC;AAC/D,SAASC,YAAW,QAAS,iBAAiB;AAC9C,SAASC,OAAM,QAAS,UAAU;AAElC,eAAe;EACbC,UAAU,EAAE;IAAEJ;EAAW,CAAC;EAC1BK,MAAM,EAAE,CAACJ,cAAc,CAAC;EACxBK,KAAK,EAAE;IACLC,SAAS,EAAE;MACTC,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACX;EACF,CAAC;EACDC,KAAKA,CAAA,EAAG;IACN,OAAO;MACLC,EAAE,EAAEV,YAAY,CAAC;IACnB,CAAC;EACH,CAAC;EACDW,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,EAAE,EAAEX,OAAO,CAAC,CAAC,CAACY,CAAC;MACfC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,YAAYA,CAAA,EAAG;MACb,OAAO,IAAI,CAACC,MAAM,CAACC,OAAO,CAAC,qBAAqB,CAAC;IACnD,CAAC;IACDC,WAAWA,CAAA,EAAG;MACZ,OAAO,IAAI,CAACH,YAAW,KAAM,KAAI,GAAI,IAAG,GAAI,KAAK;IACnD;EACF,CAAC;EACDI,WAAW,EAAE;IACXN,OAAO,EAAE;MACPO,UAAU,EAAE,SAAAA,CAAUC,KAAK,EAAE;QAC3B,OAAO,IAAI,CAACH,WAAU,IAAKG,KAAI,KAAM,IAAI;MAC3C;IACF;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,aAAaA,CAAA,EAAG;MACd,IAAI,CAACd,EAAE,CAACe,MAAM,CAAC,CAAC;MAChB,IAAI,IAAI,CAACf,EAAE,CAACgB,QAAQ,EAAE;MACtB,IAAI,CAACC,KAAK,CAAC,WAAW,CAAC;MACvB,IAAI,CAACC,SAAS,CAAC,MAAM,IAAI,CAACC,KAAK,CAACC,KAAK,CAACC,IAAI,CAAC,CAAC,CAAC;MAC7C,IAAI,CAACC,YAAY,CAAC,CAAC;IACrB,CAAC;IACDA,YAAYA,CAAA,EAAG;MACb,IAAI,CAAClB,OAAM,GAAI,KAAK;MACpB,IAAI,CAACJ,EAAE,CAACuB,MAAM,CAAC,CAAC;IAClB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}