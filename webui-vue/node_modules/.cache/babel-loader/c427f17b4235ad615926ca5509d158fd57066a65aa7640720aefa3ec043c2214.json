{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-5b01577c\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"app-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_app_header = _resolveComponent(\"app-header\");\n  const _component_app_navigation = _resolveComponent(\"app-navigation\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  const _component_button_back_to_top = _resolveComponent(\"button-back-to-top\");\n  const _component_page_container = _resolveComponent(\"page-container\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_app_header, {\n    ref: \"focusTarget\",\n    class: \"app-header\",\n    \"router-key\": $data.routerKey,\n    onRefresh: $options.refresh\n  }, null, 8 /* PROPS */, [\"router-key\", \"onRefresh\"]), _createVNode(_component_app_navigation, {\n    class: \"app-navigation\"\n  }), _createVNode(_component_page_container, {\n    class: \"app-content\"\n  }, {\n    default: _withCtx(() => [(_openBlock(), _createBlock(_component_router_view, {\n      ref: \"routerView\",\n      key: $data.routerKey\n    })), _createCommentVNode(\" Scroll to top button \"), _createVNode(_component_button_back_to_top)], undefined, true),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_app_header","ref","$data","routerKey","onRefresh","$options","refresh","_component_app_navigation","_component_page_container","default","_withCtx","_createBlock","_component_router_view","key","_createCommentVNode","_component_button_back_to_top","_"],"sources":["/home/zenchenko/openbmc/build/evb-ast2500/workspace/sources/webui-vue/src/layouts/AppLayout.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <app-header\n      ref=\"focusTarget\"\n      class=\"app-header\"\n      :router-key=\"routerKey\"\n      @refresh=\"refresh\"\n    />\n    <app-navigation class=\"app-navigation\" />\n    <page-container class=\"app-content\">\n      <router-view ref=\"routerView\" :key=\"routerKey\" />\n      <!-- Scroll to top button -->\n      <button-back-to-top />\n    </page-container>\n  </div>\n</template>\n\n<script>\nimport AppHeader from '@/components/AppHeader';\nimport AppNavigation from '@/components/AppNavigation';\nimport PageContainer from '@/components/Global/PageContainer';\nimport ButtonBackToTop from '@/components/Global/ButtonBackToTop';\nimport JumpLinkMixin from '@/components/Mixins/JumpLinkMixin';\n\nexport default {\n  name: 'App',\n  components: {\n    AppHeader,\n    AppNavigation,\n    PageContainer,\n    ButtonBackToTop,\n  },\n  mixins: [JumpLinkMixin],\n  data() {\n    return {\n      routerKey: 0,\n    };\n  },\n  watch: {\n    $route: function () {\n      this.$nextTick(function () {\n        this.setFocus(this.$refs.focusTarget.$el);\n      });\n    },\n  },\n  mounted() {\n    this.$root.$on('refresh-application', () => this.refresh());\n    setInterval(() => {\n      if (!localStorage.getItem('storedUsername')) {\n        this.$eventBus.$consoleWindow?.close();\n        this.refresh();\n      }\n    }, 10000);\n  },\n  methods: {\n    refresh() {\n      // Clear all toast messages\n      document.querySelectorAll('.toast').forEach((toast) => {\n        const toastId = toast.id;\n        if (toastId) {\n          this.$bvToast.hide(toastId);\n        }\n      });\n      // Changing the component :key value will trigger\n      // a component re-rendering and 'refresh' the view\n      this.routerKey += 1;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/bmc/helpers/_index.scss';\n@import '@/assets/styles/bootstrap/_helpers.scss';\n\n.app-container {\n  display: grid;\n  grid-template-columns: 100%;\n  grid-template-rows: auto;\n  grid-template-areas:\n    'header'\n    'content';\n\n  @include media-breakpoint-up($responsive-layout-bp) {\n    grid-template-columns: $navigation-width 1fr;\n    grid-template-areas:\n      'header header'\n      'navigation content';\n  }\n}\n\n.app-header {\n  grid-area: header;\n  position: sticky;\n  top: 0;\n  z-index: $zindex-fixed + 1;\n}\n\n.app-navigation {\n  grid-area: navigation;\n}\n\n.app-content {\n  grid-area: content;\n  background-color: $white;\n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAe;;;;;;;uBAA1BC,mBAAA,CAaM,OAbNC,UAaM,GAZJC,YAAA,CAKEC,qBAAA;IAJAC,GAAG,EAAC,aAAa;IACjBL,KAAK,EAAC,YAAY;IACjB,YAAU,EAAEM,KAAA,CAAAC,SAAS;IACrBC,SAAO,EAAEC,QAAA,CAAAC;wDAEZP,YAAA,CAAyCQ,yBAAA;IAAzBX,KAAK,EAAC;EAAgB,IACtCG,YAAA,CAIiBS,yBAAA;IAJDZ,KAAK,EAAC;EAAa;IATvCa,OAAA,EAAAC,QAAA,CAUM,MAAiD,E,cAAjDC,YAAA,CAAiDC,sBAAA;MAApCX,GAAG,EAAC,YAAY;MAAEY,GAAG,EAAEX,KAAA,CAAAC;SACpCW,mBAAA,0BAA6B,EAC7Bf,YAAA,CAAsBgB,6BAAA,E;IAZ5BC,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}