{"ast":null,"code":"//Do not change Mixin import.\n//Exact match alias set to support\n//dotenv customizations.\nimport AppNavigationMixin from './AppNavigationMixin';\nimport { useI18n } from 'vue-i18n';\nexport default {\n  name: 'AppNavigation',\n  mixins: [AppNavigationMixin],\n  data() {\n    return {\n      $t: useI18n().t,\n      isNavigationOpen: false,\n      currentUserRole: null\n    };\n  },\n  watch: {\n    $route: function () {\n      this.isNavigationOpen = false;\n    },\n    isNavigationOpen: function (isNavigationOpen) {\n      this.$root.$emit('change-is-navigation-open', isNavigationOpen);\n    }\n  },\n  mounted() {\n    this.getPrivilege();\n    this.$root.$on('toggle-navigation', () => this.toggleIsOpen());\n  },\n  methods: {\n    toggleIsOpen() {\n      this.isNavigationOpen = !this.isNavigationOpen;\n    },\n    getPrivilege() {\n      this.currentUserRole = this.$store?.getters['global/userPrivilege'];\n    },\n    filteredNavItem(navItem) {\n      if (this.currentUserRole) {\n        return navItem.filter(({\n          exclusiveToRoles\n        }) => {\n          if (!exclusiveToRoles?.length) return true;\n          return exclusiveToRoles.includes(this.currentUserRole);\n        });\n      } else return navItem;\n    }\n  }\n};","map":{"version":3,"names":["AppNavigationMixin","useI18n","name","mixins","data","$t","t","isNavigationOpen","currentUserRole","watch","$route","$root","$emit","mounted","getPrivilege","$on","toggleIsOpen","methods","$store","getters","filteredNavItem","navItem","filter","exclusiveToRoles","length","includes"],"sources":["/home/zenchenko/openbmc/build/evb-ast2500/workspace/sources/webui-vue/src/components/AppNavigation/AppNavigation.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"nav-container\" :class=\"{ open: isNavigationOpen }\">\n      <nav ref=\"nav\" :aria-label=\"$t('appNavigation.primaryNavigation')\">\n        <b-nav vertical class=\"mb-4\">\n          <template v-for=\"navItem in navigationItems\">\n            <!-- Navigation items with no children -->\n            <b-nav-item\n              v-if=\"!navItem.children\"\n              :key=\"navItem.index\"\n              :to=\"navItem.route\"\n              :data-test-id=\"`nav-item-${navItem.id}`\"\n            >\n              <component :is=\"navItem.icon\" />\n              {{ navItem.label }}\n            </b-nav-item>\n\n            <!-- Navigation items with children -->\n            <li v-else :key=\"navItem.index\" class=\"nav-item\">\n              <b-button\n                v-b-toggle=\"`${navItem.id}`\"\n                variant=\"link\"\n                :data-test-id=\"`nav-button-${navItem.id}`\"\n              >\n                <component :is=\"navItem.icon\" />\n                {{ navItem.label }}\n                <icon-expand class=\"icon-expand\" />\n              </b-button>\n              <b-collapse :id=\"navItem.id\" tag=\"ul\" class=\"nav-item__nav\">\n                <li class=\"nav-item\">\n                  <router-link\n                    v-for=\"(subNavItem, i) of filteredNavItem(navItem.children)\"\n                    :key=\"i\"\n                    :to=\"subNavItem.route\"\n                    :data-test-id=\"`nav-item-${subNavItem.id}`\"\n                    class=\"nav-link\"\n                  >\n                    {{ subNavItem.label }}\n                  </router-link>\n                </li>\n              </b-collapse>\n            </li>\n          </template>\n        </b-nav>\n      </nav>\n    </div>\n    <transition name=\"fade\">\n      <div\n        v-if=\"isNavigationOpen\"\n        id=\"nav-overlay\"\n        class=\"nav-overlay\"\n        @click=\"toggleIsOpen\"\n      ></div>\n    </transition>\n  </div>\n</template>\n\n<script>\n//Do not change Mixin import.\n//Exact match alias set to support\n//dotenv customizations.\nimport AppNavigationMixin from './AppNavigationMixin';\nimport { useI18n } from 'vue-i18n';\n\nexport default {\n  name: 'AppNavigation',\n  mixins: [AppNavigationMixin],\n  data() {\n    return {\n      $t: useI18n().t,\n      isNavigationOpen: false,\n      currentUserRole: null,\n    };\n  },\n  watch: {\n    $route: function () {\n      this.isNavigationOpen = false;\n    },\n    isNavigationOpen: function (isNavigationOpen) {\n      this.$root.$emit('change-is-navigation-open', isNavigationOpen);\n    },\n  },\n  mounted() {\n    this.getPrivilege();\n    this.$root.$on('toggle-navigation', () => this.toggleIsOpen());\n  },\n  methods: {\n    toggleIsOpen() {\n      this.isNavigationOpen = !this.isNavigationOpen;\n    },\n    getPrivilege() {\n      this.currentUserRole = this.$store?.getters['global/userPrivilege'];\n    },\n    filteredNavItem(navItem) {\n      if (this.currentUserRole) {\n        return navItem.filter(({ exclusiveToRoles }) => {\n          if (!exclusiveToRoles?.length) return true;\n          return exclusiveToRoles.includes(this.currentUserRole);\n        });\n      } else return navItem;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/bmc/helpers/_index.scss';\n@import '@/assets/styles/bootstrap/_helpers.scss';\n\nsvg {\n  fill: currentColor;\n  height: 1.2rem;\n  width: 1.2rem;\n  margin-left: 0 !important; //!important overriding button specificity\n  vertical-align: text-bottom;\n  &:not(.icon-expand) {\n    margin-right: $spacer;\n  }\n}\n\n.nav {\n  padding-top: $spacer / 4;\n  @include media-breakpoint-up($responsive-layout-bp) {\n    padding-top: $spacer;\n  }\n}\n\n.nav-item__nav {\n  list-style: none;\n  padding-left: 0;\n  margin-left: 0;\n\n  .nav-item {\n    outline: none;\n  }\n\n  .nav-link {\n    padding-left: $spacer * 4;\n    outline: none;\n\n    &:not(.nav-link--current) {\n      font-weight: normal;\n    }\n  }\n}\n\n.btn-link {\n  display: inline-block;\n  width: 100%;\n  text-align: left;\n  text-decoration: none !important;\n  border-radius: 0;\n\n  &.collapsed {\n    .icon-expand {\n      transform: rotate(180deg);\n    }\n  }\n}\n\n.icon-expand {\n  float: right;\n  margin-top: $spacer / 4;\n}\n\n.btn-link,\n.nav-link {\n  position: relative;\n  font-weight: $headings-font-weight;\n  padding-left: $spacer; // defining consistent padding for links and buttons\n  padding-right: $spacer;\n  color: theme-color('secondary');\n\n  &:hover {\n    background-color: theme-color-level(dark, -10.5);\n    color: theme-color('dark');\n  }\n\n  &:focus {\n    background-color: theme-color-level(light, 0);\n    box-shadow: inset 0 0 0 2px theme-color('primary');\n    color: theme-color('dark');\n    outline: 0;\n  }\n\n  &:active {\n    background-color: theme-color('secondary');\n    color: $white;\n  }\n}\n\n.nav-link--current {\n  font-weight: $headings-font-weight;\n  background-color: theme-color('secondary');\n  color: theme-color('light');\n  cursor: default;\n  box-shadow: none;\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    width: 4px;\n    background-color: theme-color('primary');\n  }\n\n  &:hover,\n  &:focus {\n    background-color: theme-color('secondary');\n    color: theme-color('light');\n  }\n}\n\n.nav-container {\n  position: fixed;\n  width: $navigation-width;\n  top: $header-height;\n  bottom: 0;\n  left: 0;\n  z-index: $zindex-fixed;\n  overflow-y: auto;\n  background-color: theme-color('light');\n  transform: translateX(-$navigation-width);\n  transition: transform $exit-easing--productive $duration--moderate-02;\n  border-right: 1px solid theme-color-level('light', 2.85);\n\n  @include media-breakpoint-down(md) {\n    z-index: $zindex-fixed + 2;\n  }\n\n  &.open,\n  &:focus-within {\n    transform: translateX(0);\n    transition-timing-function: $entrance-easing--productive;\n  }\n\n  @include media-breakpoint-up($responsive-layout-bp) {\n    transition-duration: $duration--fast-01;\n    transform: translateX(0);\n  }\n}\n\n.nav-overlay {\n  position: fixed;\n  top: $header-height;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: $zindex-fixed + 1;\n  background-color: $black;\n  opacity: 0.5;\n\n  &.fade-enter-active {\n    transition: opacity $duration--moderate-02 $entrance-easing--productive;\n  }\n\n  &.fade-leave-active {\n    transition: opacity $duration--fast-02 $exit-easing--productive;\n  }\n\n  &.fade-enter, // Remove this vue2 based only class when switching to vue3\n  &.fade-enter-from, // This is vue3 based only class modified from 'fade-enter'\n  &.fade-leave-to {\n    opacity: 0;\n  }\n\n  @include media-breakpoint-up($responsive-layout-bp) {\n    display: none;\n  }\n}\n</style>\n"],"mappings":"AA0DA;AACA;AACA;AACA,OAAOA,kBAAiB,MAAO,sBAAsB;AACrD,SAASC,OAAM,QAAS,UAAU;AAElC,eAAe;EACbC,IAAI,EAAE,eAAe;EACrBC,MAAM,EAAE,CAACH,kBAAkB,CAAC;EAC5BI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,EAAE,EAAEJ,OAAO,CAAC,CAAC,CAACK,CAAC;MACfC,gBAAgB,EAAE,KAAK;MACvBC,eAAe,EAAE;IACnB,CAAC;EACH,CAAC;EACDC,KAAK,EAAE;IACLC,MAAM,EAAE,SAAAA,CAAA,EAAY;MAClB,IAAI,CAACH,gBAAe,GAAI,KAAK;IAC/B,CAAC;IACDA,gBAAgB,EAAE,SAAAA,CAAUA,gBAAgB,EAAE;MAC5C,IAAI,CAACI,KAAK,CAACC,KAAK,CAAC,2BAA2B,EAAEL,gBAAgB,CAAC;IACjE;EACF,CAAC;EACDM,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,YAAY,CAAC,CAAC;IACnB,IAAI,CAACH,KAAK,CAACI,GAAG,CAAC,mBAAmB,EAAE,MAAM,IAAI,CAACC,YAAY,CAAC,CAAC,CAAC;EAChE,CAAC;EACDC,OAAO,EAAE;IACPD,YAAYA,CAAA,EAAG;MACb,IAAI,CAACT,gBAAe,GAAI,CAAC,IAAI,CAACA,gBAAgB;IAChD,CAAC;IACDO,YAAYA,CAAA,EAAG;MACb,IAAI,CAACN,eAAc,GAAI,IAAI,CAACU,MAAM,EAAEC,OAAO,CAAC,sBAAsB,CAAC;IACrE,CAAC;IACDC,eAAeA,CAACC,OAAO,EAAE;MACvB,IAAI,IAAI,CAACb,eAAe,EAAE;QACxB,OAAOa,OAAO,CAACC,MAAM,CAAC,CAAC;UAAEC;QAAiB,CAAC,KAAK;UAC9C,IAAI,CAACA,gBAAgB,EAAEC,MAAM,EAAE,OAAO,IAAI;UAC1C,OAAOD,gBAAgB,CAACE,QAAQ,CAAC,IAAI,CAACjB,eAAe,CAAC;QACxD,CAAC,CAAC;MACJ,OAAO,OAAOa,OAAO;IACvB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}