{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, Fragment as _Fragment, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"mb-2\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"pl-3 mb-4\"\n};\nconst _hoisted_3 = {\n  class: \"mt-1 mb-1\"\n};\nconst _hoisted_4 = {\n  class: \"mt-1 mb-1\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  class: \"pl-3 mb-4\"\n};\nconst _hoisted_6 = {\n  class: \"mt-1 mb-1\"\n};\nconst _hoisted_7 = {\n  class: \"mt-1 mb-1\"\n};\nconst _hoisted_8 = {\n  class: \"mt-1 mb-1\"\n};\nconst _hoisted_9 = {\n  class: \"mt-1 mb-1\"\n};\nconst _hoisted_10 = {\n  class: \"d-flex mb-2\"\n};\nconst _hoisted_11 = {\n  id: \"reset-to-default-warning\",\n  class: \"ml-1\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_status_icon = _resolveComponent(\"status-icon\");\n  const _component_b_form_checkbox = _resolveComponent(\"b-form-checkbox\");\n  const _component_b_form_invalid_feedback = _resolveComponent(\"b-form-invalid-feedback\");\n  const _component_b_button = _resolveComponent(\"b-button\");\n  const _component_b_modal = _resolveComponent(\"b-modal\");\n  return _openBlock(), _createBlock(_component_b_modal, {\n    id: \"modal-reset\",\n    ref: \"modal\",\n    title: $data.$t(`pageFactoryReset.modal.${$props.resetType}Title`),\n    \"title-tag\": \"h2\",\n    onHidden: $options.resetConfirm\n  }, {\n    \"modal-footer\": _withCtx(({\n      cancel\n    }) => [_createVNode(_component_b_button, {\n      variant: \"secondary\",\n      \"data-test-id\": \"factoryReset-button-cancel\",\n      onClick: $event => cancel()\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.$t('global.action.cancel')), 1 /* TEXT */)], undefined, true),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_b_button, {\n      type: \"sumbit\",\n      variant: \"primary\",\n      \"data-test-id\": \"factoryReset-button-confirm\",\n      onClick: $options.handleConfirm\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.$t(`pageFactoryReset.modal.${$props.resetType}SubmitText`)), 1 /* TEXT */)], undefined, true),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"])]),\n    default: _withCtx(() => [_createElementVNode(\"p\", _hoisted_1, [_createElementVNode(\"strong\", null, _toDisplayString($data.$t(`pageFactoryReset.modal.${$props.resetType}Header`)), 1 /* TEXT */)]), $props.resetType == 'resetBios' ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_2, [_createElementVNode(\"li\", _hoisted_3, _toDisplayString($data.$t('pageFactoryReset.modal.resetBiosSettingsList.item1')), 1 /* TEXT */), _createElementVNode(\"li\", _hoisted_4, _toDisplayString($data.$t('pageFactoryReset.modal.resetBiosSettingsList.item2')), 1 /* TEXT */)])) : $props.resetType == 'resetToDefaults' ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_5, [_createElementVNode(\"li\", _hoisted_6, _toDisplayString($data.$t('pageFactoryReset.modal.resetToDefaultsSettingsList.item1')), 1 /* TEXT */), _createElementVNode(\"li\", _hoisted_7, _toDisplayString($data.$t('pageFactoryReset.modal.resetToDefaultsSettingsList.item2')), 1 /* TEXT */), _createElementVNode(\"li\", _hoisted_8, _toDisplayString($data.$t('pageFactoryReset.modal.resetToDefaultsSettingsList.item3')), 1 /* TEXT */), _createElementVNode(\"li\", _hoisted_9, _toDisplayString($data.$t('pageFactoryReset.modal.resetToDefaultsSettingsList.item4')), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), !$options.isServerOff ? (_openBlock(), _createElementBlock(_Fragment, {\n      key: 2\n    }, [_createElementVNode(\"p\", _hoisted_10, [_createVNode(_component_status_icon, {\n      status: \"danger\"\n    }), _createElementVNode(\"span\", _hoisted_11, _toDisplayString($data.$t(`pageFactoryReset.modal.resetWarningMessage`)), 1 /* TEXT */)]), _createVNode(_component_b_form_checkbox, {\n      modelValue: $data.confirm,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.confirm = $event),\n      \"aria-describedby\": \"reset-to-default-warning\",\n      onInput: _cache[1] || (_cache[1] = $event => $setup.v$.confirm.$touch())\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.$t(`pageFactoryReset.modal.resetWarningCheckLabel`)), 1 /* TEXT */)], undefined, true),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_b_form_invalid_feedback, {\n      role: \"alert\",\n      state: _ctx.getValidationState($setup.v$.confirm)\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.$t('global.form.fieldRequired')), 1 /* TEXT */)], undefined, true),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"state\"])], 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)], undefined, true),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"title\", \"onHidden\"]);\n}","map":{"version":3,"names":["class","key","id","_createBlock","_component_b_modal","ref","title","$data","$t","$props","resetType","onHidden","$options","resetConfirm","_withCtx","cancel","_createVNode","_component_b_button","variant","onClick","$event","default","_createTextVNode","_toDisplayString","_","type","handleConfirm","_createElementVNode","_hoisted_1","_createElementBlock","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_createCommentVNode","isServerOff","_Fragment","_hoisted_10","_component_status_icon","status","_hoisted_11","_component_b_form_checkbox","modelValue","confirm","_cache","onInput","$setup","v$","$touch","_component_b_form_invalid_feedback","role","state","_ctx","getValidationState"],"sources":["/home/zenchenko/openbmc/build/evb-ast2500/workspace/sources/webui-vue/src/views/Operations/FactoryReset/FactoryResetModal.vue"],"sourcesContent":["<template>\n  <b-modal\n    id=\"modal-reset\"\n    ref=\"modal\"\n    :title=\"$t(`pageFactoryReset.modal.${resetType}Title`)\"\n    title-tag=\"h2\"\n    @hidden=\"resetConfirm\"\n  >\n    <p class=\"mb-2\">\n      <strong>{{ $t(`pageFactoryReset.modal.${resetType}Header`) }}</strong>\n    </p>\n    <ul v-if=\"resetType == 'resetBios'\" class=\"pl-3 mb-4\">\n      <li class=\"mt-1 mb-1\">\n        {{ $t('pageFactoryReset.modal.resetBiosSettingsList.item1') }}\n      </li>\n      <li class=\"mt-1 mb-1\">\n        {{ $t('pageFactoryReset.modal.resetBiosSettingsList.item2') }}\n      </li>\n    </ul>\n    <ul v-else-if=\"resetType == 'resetToDefaults'\" class=\"pl-3 mb-4\">\n      <li class=\"mt-1 mb-1\">\n        {{ $t('pageFactoryReset.modal.resetToDefaultsSettingsList.item1') }}\n      </li>\n      <li class=\"mt-1 mb-1\">\n        {{ $t('pageFactoryReset.modal.resetToDefaultsSettingsList.item2') }}\n      </li>\n      <li class=\"mt-1 mb-1\">\n        {{ $t('pageFactoryReset.modal.resetToDefaultsSettingsList.item3') }}\n      </li>\n      <li class=\"mt-1 mb-1\">\n        {{ $t('pageFactoryReset.modal.resetToDefaultsSettingsList.item4') }}\n      </li>\n    </ul>\n\n    <!-- Warning message -->\n    <template v-if=\"!isServerOff\">\n      <p class=\"d-flex mb-2\">\n        <status-icon status=\"danger\" />\n        <span id=\"reset-to-default-warning\" class=\"ml-1\">\n          {{ $t(`pageFactoryReset.modal.resetWarningMessage`) }}\n        </span>\n      </p>\n      <b-form-checkbox\n        v-model=\"confirm\"\n        aria-describedby=\"reset-to-default-warning\"\n        @input=\"v$.confirm.$touch()\"\n      >\n        {{ $t(`pageFactoryReset.modal.resetWarningCheckLabel`) }}\n      </b-form-checkbox>\n      <b-form-invalid-feedback\n        role=\"alert\"\n        :state=\"getValidationState(v$.confirm)\"\n      >\n        {{ $t('global.form.fieldRequired') }}\n      </b-form-invalid-feedback>\n    </template>\n\n    <template #modal-footer=\"{ cancel }\">\n      <b-button\n        variant=\"secondary\"\n        data-test-id=\"factoryReset-button-cancel\"\n        @click=\"cancel()\"\n      >\n        {{ $t('global.action.cancel') }}\n      </b-button>\n      <b-button\n        type=\"sumbit\"\n        variant=\"primary\"\n        data-test-id=\"factoryReset-button-confirm\"\n        @click=\"handleConfirm\"\n      >\n        {{ $t(`pageFactoryReset.modal.${resetType}SubmitText`) }}\n      </b-button>\n    </template>\n  </b-modal>\n</template>\n<script>\nimport StatusIcon from '@/components/Global/StatusIcon';\nimport VuelidateMixin from '@/components/Mixins/VuelidateMixin';\nimport { useVuelidate } from '@vuelidate/core';\nimport { useI18n } from 'vue-i18n';\n\nexport default {\n  components: { StatusIcon },\n  mixins: [VuelidateMixin],\n  props: {\n    resetType: {\n      type: String,\n      default: null,\n    },\n  },\n  setup() {\n    return {\n      v$: useVuelidate(),\n    };\n  },\n  data() {\n    return {\n      $t: useI18n().t,\n      confirm: false,\n    };\n  },\n  computed: {\n    serverStatus() {\n      return this.$store.getters['global/serverStatus'];\n    },\n    isServerOff() {\n      return this.serverStatus === 'off' ? true : false;\n    },\n  },\n  validations: {\n    confirm: {\n      mustBeTrue: function (value) {\n        return this.isServerOff || value === true;\n      },\n    },\n  },\n  methods: {\n    handleConfirm() {\n      this.v$.$touch();\n      if (this.v$.$invalid) return;\n      this.$emit('okConfirm');\n      this.$nextTick(() => this.$refs.modal.hide());\n      this.resetConfirm();\n    },\n    resetConfirm() {\n      this.confirm = false;\n      this.v$.$reset();\n    },\n  },\n};\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}