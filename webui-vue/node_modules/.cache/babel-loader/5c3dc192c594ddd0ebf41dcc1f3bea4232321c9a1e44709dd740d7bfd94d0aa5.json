{"ast":null,"code":"import VuelidateMixin from '@/components/Mixins/VuelidateMixin.js';\nimport { useVuelidate } from '@vuelidate/core';\nimport { required } from '@vuelidate/validators';\nimport { macAddress } from 'vuelidate/lib/validators';\nimport { useI18n } from 'vue-i18n';\nexport default {\n  mixins: [VuelidateMixin],\n  props: {\n    macAddress: {\n      type: String,\n      default: ''\n    }\n  },\n  setup() {\n    return {\n      v$: useVuelidate()\n    };\n  },\n  data() {\n    return {\n      $t: useI18n().t,\n      form: {\n        macAddress: ''\n      }\n    };\n  },\n  watch: {\n    macAddress() {\n      this.form.macAddress = this.macAddress;\n    }\n  },\n  validations() {\n    return {\n      form: {\n        macAddress: {\n          required,\n          macAddress: macAddress()\n        }\n      }\n    };\n  },\n  methods: {\n    handleSubmit() {\n      this.v$.$touch();\n      if (this.v$.$invalid) return;\n      this.$emit('ok', {\n        MACAddress: this.form.macAddress\n      });\n      this.closeModal();\n    },\n    closeModal() {\n      this.$nextTick(() => {\n        this.$refs.modal.hide();\n      });\n    },\n    resetForm() {\n      this.form.macAddress = this.macAddress;\n      this.v$.$reset();\n      this.$emit('hidden');\n    },\n    onOk(bvModalEvt) {\n      // prevent modal close\n      bvModalEvt.preventDefault();\n      this.handleSubmit();\n    }\n  }\n};","map":{"version":3,"names":["VuelidateMixin","useVuelidate","required","macAddress","useI18n","mixins","props","type","String","default","setup","v$","data","$t","t","form","watch","validations","methods","handleSubmit","$touch","$invalid","$emit","MACAddress","closeModal","$nextTick","$refs","modal","hide","resetForm","$reset","onOk","bvModalEvt","preventDefault"],"sources":["/home/zenchenko/openbmc/build/evb-ast2500/workspace/sources/webui-vue/src/views/Settings/Network/ModalMacAddress.vue"],"sourcesContent":["<template>\n  <b-modal\n    id=\"modal-mac-address\"\n    ref=\"modal\"\n    :title=\"$t('pageNetwork.modal.editMacAddressTitle')\"\n    @hidden=\"resetForm\"\n  >\n    <b-form id=\"mac-settings\" @submit.prevent=\"handleSubmit\">\n      <b-row>\n        <b-col sm=\"6\">\n          <b-form-group\n            :label=\"$t('pageNetwork.macAddress')\"\n            label-for=\"macAddress\"\n          >\n            <b-form-input\n              id=\"mac-address\"\n              v-model.trim=\"form.macAddress\"\n              data-test-id=\"network-input-macAddress\"\n              type=\"text\"\n              :state=\"getValidationState(v$.form.macAddress)\"\n              @change=\"v$.form.macAddress.$touch()\"\n            />\n            <b-form-invalid-feedback role=\"alert\">\n              <div v-if=\"v$.form.macAddress.required.$invalid\">\n                {{ $t('global.form.fieldRequired') }}\n              </div>\n              <div v-if=\"v$.form.macAddress.macAddress.$invalid\">\n                {{ $t('global.form.invalidFormat') }}\n              </div>\n            </b-form-invalid-feedback>\n          </b-form-group>\n        </b-col>\n      </b-row>\n    </b-form>\n    <template #modal-footer=\"{ cancel }\">\n      <b-button variant=\"secondary\" @click=\"cancel()\">\n        {{ $t('global.action.cancel') }}\n      </b-button>\n      <b-button\n        form=\"mac-settings\"\n        type=\"submit\"\n        variant=\"primary\"\n        @click=\"onOk\"\n      >\n        {{ $t('global.action.add') }}\n      </b-button>\n    </template>\n  </b-modal>\n</template>\n\n<script>\nimport VuelidateMixin from '@/components/Mixins/VuelidateMixin.js';\nimport { useVuelidate } from '@vuelidate/core';\nimport { required } from '@vuelidate/validators';\nimport { macAddress } from 'vuelidate/lib/validators';\nimport { useI18n } from 'vue-i18n';\n\nexport default {\n  mixins: [VuelidateMixin],\n  props: {\n    macAddress: {\n      type: String,\n      default: '',\n    },\n  },\n  setup() {\n    return {\n      v$: useVuelidate(),\n    };\n  },\n  data() {\n    return {\n      $t: useI18n().t,\n      form: {\n        macAddress: '',\n      },\n    };\n  },\n  watch: {\n    macAddress() {\n      this.form.macAddress = this.macAddress;\n    },\n  },\n  validations() {\n    return {\n      form: {\n        macAddress: {\n          required,\n          macAddress: macAddress(),\n        },\n      },\n    };\n  },\n  methods: {\n    handleSubmit() {\n      this.v$.$touch();\n      if (this.v$.$invalid) return;\n      this.$emit('ok', { MACAddress: this.form.macAddress });\n      this.closeModal();\n    },\n    closeModal() {\n      this.$nextTick(() => {\n        this.$refs.modal.hide();\n      });\n    },\n    resetForm() {\n      this.form.macAddress = this.macAddress;\n      this.v$.$reset();\n      this.$emit('hidden');\n    },\n    onOk(bvModalEvt) {\n      // prevent modal close\n      bvModalEvt.preventDefault();\n      this.handleSubmit();\n    },\n  },\n};\n</script>\n"],"mappings":"AAmDA,OAAOA,cAAa,MAAO,uCAAuC;AAClE,SAASC,YAAW,QAAS,iBAAiB;AAC9C,SAASC,QAAO,QAAS,uBAAuB;AAChD,SAASC,UAAS,QAAS,0BAA0B;AACrD,SAASC,OAAM,QAAS,UAAU;AAElC,eAAe;EACbC,MAAM,EAAE,CAACL,cAAc,CAAC;EACxBM,KAAK,EAAE;IACLH,UAAU,EAAE;MACVI,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACX;EACF,CAAC;EACDC,KAAKA,CAAA,EAAG;IACN,OAAO;MACLC,EAAE,EAAEV,YAAY,CAAC;IACnB,CAAC;EACH,CAAC;EACDW,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,EAAE,EAAET,OAAO,CAAC,CAAC,CAACU,CAAC;MACfC,IAAI,EAAE;QACJZ,UAAU,EAAE;MACd;IACF,CAAC;EACH,CAAC;EACDa,KAAK,EAAE;IACLb,UAAUA,CAAA,EAAG;MACX,IAAI,CAACY,IAAI,CAACZ,UAAS,GAAI,IAAI,CAACA,UAAU;IACxC;EACF,CAAC;EACDc,WAAWA,CAAA,EAAG;IACZ,OAAO;MACLF,IAAI,EAAE;QACJZ,UAAU,EAAE;UACVD,QAAQ;UACRC,UAAU,EAAEA,UAAU,CAAC;QACzB;MACF;IACF,CAAC;EACH,CAAC;EACDe,OAAO,EAAE;IACPC,YAAYA,CAAA,EAAG;MACb,IAAI,CAACR,EAAE,CAACS,MAAM,CAAC,CAAC;MAChB,IAAI,IAAI,CAACT,EAAE,CAACU,QAAQ,EAAE;MACtB,IAAI,CAACC,KAAK,CAAC,IAAI,EAAE;QAAEC,UAAU,EAAE,IAAI,CAACR,IAAI,CAACZ;MAAW,CAAC,CAAC;MACtD,IAAI,CAACqB,UAAU,CAAC,CAAC;IACnB,CAAC;IACDA,UAAUA,CAAA,EAAG;MACX,IAAI,CAACC,SAAS,CAAC,MAAM;QACnB,IAAI,CAACC,KAAK,CAACC,KAAK,CAACC,IAAI,CAAC,CAAC;MACzB,CAAC,CAAC;IACJ,CAAC;IACDC,SAASA,CAAA,EAAG;MACV,IAAI,CAACd,IAAI,CAACZ,UAAS,GAAI,IAAI,CAACA,UAAU;MACtC,IAAI,CAACQ,EAAE,CAACmB,MAAM,CAAC,CAAC;MAChB,IAAI,CAACR,KAAK,CAAC,QAAQ,CAAC;IACtB,CAAC;IACDS,IAAIA,CAACC,UAAU,EAAE;MACf;MACAA,UAAU,CAACC,cAAc,CAAC,CAAC;MAC3B,IAAI,CAACd,YAAY,CAAC,CAAC;IACrB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}