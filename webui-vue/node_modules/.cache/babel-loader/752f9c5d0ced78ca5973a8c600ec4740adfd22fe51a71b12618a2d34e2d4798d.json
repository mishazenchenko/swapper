{"ast":null,"code":"import PageTitle from '@/components/Global/PageTitle';\nimport PageSection from '@/components/Global/PageSection';\nimport BVToastMixin from '@/components/Mixins/BVToastMixin';\nimport LoadingBarMixin from '@/components/Mixins/LoadingBarMixin';\nimport { useI18n } from 'vue-i18n';\nimport i18n from '@/i18n';\nexport default {\n  name: 'RebootBmc',\n  components: {\n    PageTitle,\n    PageSection\n  },\n  mixins: [BVToastMixin, LoadingBarMixin],\n  beforeRouteLeave(to, from, next) {\n    this.hideLoader();\n    next();\n  },\n  data() {\n    return {\n      $t: useI18n().t\n    };\n  },\n  computed: {\n    lastBmcRebootTime() {\n      return this.$store.getters['controls/lastBmcRebootTime'];\n    }\n  },\n  created() {\n    this.startLoader();\n    this.$store.dispatch('controls/getLastBmcRebootTime').finally(() => this.endLoader());\n  },\n  methods: {\n    onClick() {\n      this.$bvModal.msgBoxConfirm(i18n.global.t('pageRebootBmc.modal.confirmMessage'), {\n        title: i18n.global.t('pageRebootBmc.modal.confirmTitle'),\n        okTitle: i18n.global.t('global.action.confirm'),\n        cancelTitle: i18n.global.t('global.action.cancel'),\n        autoFocusButton: 'ok'\n      }).then(confirmed => {\n        if (confirmed) this.rebootBmc();\n      });\n    },\n    rebootBmc() {\n      this.$store.dispatch('controls/rebootBmc').then(message => this.successToast(message)).catch(({\n        message\n      }) => this.errorToast(message));\n    }\n  }\n};","map":{"version":3,"names":["PageTitle","PageSection","BVToastMixin","LoadingBarMixin","useI18n","i18n","name","components","mixins","beforeRouteLeave","to","from","next","hideLoader","data","$t","t","computed","lastBmcRebootTime","$store","getters","created","startLoader","dispatch","finally","endLoader","methods","onClick","$bvModal","msgBoxConfirm","global","title","okTitle","cancelTitle","autoFocusButton","then","confirmed","rebootBmc","message","successToast","catch","errorToast"],"sources":["/home/zenchenko/openbmc/build/evb-ast2500/workspace/sources/webui-vue/src/views/Operations/RebootBmc/RebootBmc.vue"],"sourcesContent":["<template>\n  <b-container fluid=\"xl\">\n    <page-title />\n    <b-row>\n      <b-col md=\"8\" lg=\"8\" xl=\"6\">\n        <page-section>\n          <b-row>\n            <b-col>\n              <dl>\n                <dt>\n                  {{ $t('pageRebootBmc.lastReboot') }}\n                </dt>\n                <dd v-if=\"lastBmcRebootTime\">\n                  {{ $filters.formatDate(lastBmcRebootTime) }}\n                  {{ $filters.formatTime(lastBmcRebootTime) }}\n                </dd>\n                <dd v-else>--</dd>\n              </dl>\n            </b-col>\n          </b-row>\n          {{ $t('pageRebootBmc.rebootInformation') }}\n          <b-button\n            variant=\"primary\"\n            class=\"d-block mt-5\"\n            data-test-id=\"rebootBmc-button-reboot\"\n            @click=\"onClick\"\n          >\n            {{ $t('pageRebootBmc.rebootBmc') }}\n          </b-button>\n        </page-section>\n      </b-col>\n    </b-row>\n  </b-container>\n</template>\n\n<script>\nimport PageTitle from '@/components/Global/PageTitle';\nimport PageSection from '@/components/Global/PageSection';\nimport BVToastMixin from '@/components/Mixins/BVToastMixin';\nimport LoadingBarMixin from '@/components/Mixins/LoadingBarMixin';\nimport { useI18n } from 'vue-i18n';\nimport i18n from '@/i18n';\n\nexport default {\n  name: 'RebootBmc',\n  components: { PageTitle, PageSection },\n  mixins: [BVToastMixin, LoadingBarMixin],\n  beforeRouteLeave(to, from, next) {\n    this.hideLoader();\n    next();\n  },\n  data() {\n    return {\n      $t: useI18n().t,\n    };\n  },\n  computed: {\n    lastBmcRebootTime() {\n      return this.$store.getters['controls/lastBmcRebootTime'];\n    },\n  },\n  created() {\n    this.startLoader();\n    this.$store\n      .dispatch('controls/getLastBmcRebootTime')\n      .finally(() => this.endLoader());\n  },\n  methods: {\n    onClick() {\n      this.$bvModal\n        .msgBoxConfirm(i18n.global.t('pageRebootBmc.modal.confirmMessage'), {\n          title: i18n.global.t('pageRebootBmc.modal.confirmTitle'),\n          okTitle: i18n.global.t('global.action.confirm'),\n          cancelTitle: i18n.global.t('global.action.cancel'),\n          autoFocusButton: 'ok',\n        })\n        .then((confirmed) => {\n          if (confirmed) this.rebootBmc();\n        });\n    },\n    rebootBmc() {\n      this.$store\n        .dispatch('controls/rebootBmc')\n        .then((message) => this.successToast(message))\n        .catch(({ message }) => this.errorToast(message));\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/bmc/helpers/_index.scss';\n@import '@/assets/styles/bootstrap/_helpers.scss';\n</style>\n"],"mappings":"AAoCA,OAAOA,SAAQ,MAAO,+BAA+B;AACrD,OAAOC,WAAU,MAAO,iCAAiC;AACzD,OAAOC,YAAW,MAAO,kCAAkC;AAC3D,OAAOC,eAAc,MAAO,qCAAqC;AACjE,SAASC,OAAM,QAAS,UAAU;AAClC,OAAOC,IAAG,MAAO,QAAQ;AAEzB,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,UAAU,EAAE;IAAEP,SAAS;IAAEC;EAAY,CAAC;EACtCO,MAAM,EAAE,CAACN,YAAY,EAAEC,eAAe,CAAC;EACvCM,gBAAgBA,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,EAAE;IAC/B,IAAI,CAACC,UAAU,CAAC,CAAC;IACjBD,IAAI,CAAC,CAAC;EACR,CAAC;EACDE,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,EAAE,EAAEX,OAAO,CAAC,CAAC,CAACY;IAChB,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,iBAAiBA,CAAA,EAAG;MAClB,OAAO,IAAI,CAACC,MAAM,CAACC,OAAO,CAAC,4BAA4B,CAAC;IAC1D;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,WAAW,CAAC,CAAC;IAClB,IAAI,CAACH,MAAK,CACPI,QAAQ,CAAC,+BAA+B,EACxCC,OAAO,CAAC,MAAM,IAAI,CAACC,SAAS,CAAC,CAAC,CAAC;EACpC,CAAC;EACDC,OAAO,EAAE;IACPC,OAAOA,CAAA,EAAG;MACR,IAAI,CAACC,QAAO,CACTC,aAAa,CAACxB,IAAI,CAACyB,MAAM,CAACd,CAAC,CAAC,oCAAoC,CAAC,EAAE;QAClEe,KAAK,EAAE1B,IAAI,CAACyB,MAAM,CAACd,CAAC,CAAC,kCAAkC,CAAC;QACxDgB,OAAO,EAAE3B,IAAI,CAACyB,MAAM,CAACd,CAAC,CAAC,uBAAuB,CAAC;QAC/CiB,WAAW,EAAE5B,IAAI,CAACyB,MAAM,CAACd,CAAC,CAAC,sBAAsB,CAAC;QAClDkB,eAAe,EAAE;MACnB,CAAC,EACAC,IAAI,CAAEC,SAAS,IAAK;QACnB,IAAIA,SAAS,EAAE,IAAI,CAACC,SAAS,CAAC,CAAC;MACjC,CAAC,CAAC;IACN,CAAC;IACDA,SAASA,CAAA,EAAG;MACV,IAAI,CAAClB,MAAK,CACPI,QAAQ,CAAC,oBAAoB,EAC7BY,IAAI,CAAEG,OAAO,IAAK,IAAI,CAACC,YAAY,CAACD,OAAO,CAAC,EAC5CE,KAAK,CAAC,CAAC;QAAEF;MAAQ,CAAC,KAAK,IAAI,CAACG,UAAU,CAACH,OAAO,CAAC,CAAC;IACrD;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}