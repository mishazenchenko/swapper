{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-4886518a\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"table-filter d-inline-block\"\n};\nconst _hoisted_2 = {\n  class: \"d-inline-block mb-0\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_b_button_close = _resolveComponent(\"b-button-close\");\n  const _component_b_badge = _resolveComponent(\"b-badge\");\n  const _component_icon_filter = _resolveComponent(\"icon-filter\");\n  const _component_b_dropdown_item = _resolveComponent(\"b-dropdown-item\");\n  const _component_b_form_checkbox = _resolveComponent(\"b-form-checkbox\");\n  const _component_b_form_checkbox_group = _resolveComponent(\"b-form-checkbox-group\");\n  const _component_b_form_group = _resolveComponent(\"b-form-group\");\n  const _component_b_dropdown_form = _resolveComponent(\"b-dropdown-form\");\n  const _component_b_dropdown_item_button = _resolveComponent(\"b-dropdown-item-button\");\n  const _component_b_dropdown = _resolveComponent(\"b-dropdown\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"p\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.tags, (tag, index) => {\n    return _openBlock(), _createBlock(_component_b_badge, {\n      key: index,\n      pill: \"\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(tag) + \" \", 1 /* TEXT */), _createVNode(_component_b_button_close, {\n        disabled: $data.dropdownVisible,\n        \"aria-hidden\": true,\n        onClick: $event => $options.removeTag(tag)\n      }, null, 8 /* PROPS */, [\"disabled\", \"onClick\"])], undefined, true),\n      _: 2 /* DYNAMIC */\n    }, 1024 /* DYNAMIC_SLOTS */);\n  }), 128 /* KEYED_FRAGMENT */))]), _createVNode(_component_b_dropdown, {\n    variant: \"link\",\n    \"no-caret\": \"\",\n    right: \"\",\n    \"data-test-id\": \"tableFilter-dropdown-options\",\n    onHide: _cache[1] || (_cache[1] = $event => $data.dropdownVisible = false),\n    onShow: _cache[2] || (_cache[2] = $event => $data.dropdownVisible = true)\n  }, {\n    \"button-content\": _withCtx(() => [_createVNode(_component_icon_filter), _createTextVNode(\" \" + _toDisplayString($data.$t('global.action.filter')), 1 /* TEXT */)]),\n    default: _withCtx(() => [_createVNode(_component_b_dropdown_form, null, {\n      default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.filters, (filter, index) => {\n        return _openBlock(), _createBlock(_component_b_form_group, {\n          key: index,\n          label: filter.label\n        }, {\n          default: _withCtx(() => [_createVNode(_component_b_form_checkbox_group, {\n            modelValue: $data.tags,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.tags = $event)\n          }, {\n            default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(filter.values, value => {\n              return _openBlock(), _createBlock(_component_b_form_checkbox, {\n                key: value,\n                value: value,\n                \"data-test-id\": `tableFilter-checkbox-${value}`\n              }, {\n                default: _withCtx(() => [_createVNode(_component_b_dropdown_item, null, {\n                  default: _withCtx(() => [_createTextVNode(_toDisplayString(value), 1 /* TEXT */)], undefined, true),\n                  _: 2 /* DYNAMIC */\n                }, 1024 /* DYNAMIC_SLOTS */)], undefined, true),\n                _: 2 /* DYNAMIC */\n              }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"value\", \"data-test-id\"]);\n            }), 128 /* KEYED_FRAGMENT */))], undefined, true),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"modelValue\"])], undefined, true),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"label\"]);\n      }), 128 /* KEYED_FRAGMENT */))], undefined, true),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_b_dropdown_item_button, {\n      variant: \"primary\",\n      \"data-test-id\": \"tableFilter-button-clearAll\",\n      onClick: $options.clearAllTags\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.$t('global.action.clearAll')), 1 /* TEXT */)], undefined, true),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"])], undefined, true),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_Fragment","_renderList","$data","tags","tag","index","_createBlock","_component_b_badge","key","pill","default","_withCtx","_createTextVNode","_toDisplayString","_createVNode","_component_b_button_close","disabled","dropdownVisible","onClick","$event","$options","removeTag","_","_component_b_dropdown","variant","right","onHide","_cache","onShow","_component_icon_filter","$t","_component_b_dropdown_form","$props","filters","filter","_component_b_form_group","label","_component_b_form_checkbox_group","modelValue","values","value","_component_b_form_checkbox","_component_b_dropdown_item","_component_b_dropdown_item_button","clearAllTags"],"sources":["/home/zenchenko/openbmc/build/evb-ast2500/workspace/sources/webui-vue/src/components/Global/TableFilter.vue"],"sourcesContent":["<template>\n  <div class=\"table-filter d-inline-block\">\n    <p class=\"d-inline-block mb-0\">\n      <b-badge v-for=\"(tag, index) in tags\" :key=\"index\" pill>\n        {{ tag }}\n        <b-button-close\n          :disabled=\"dropdownVisible\"\n          :aria-hidden=\"true\"\n          @click=\"removeTag(tag)\"\n        />\n      </b-badge>\n    </p>\n    <b-dropdown\n      variant=\"link\"\n      no-caret\n      right\n      data-test-id=\"tableFilter-dropdown-options\"\n      @hide=\"dropdownVisible = false\"\n      @show=\"dropdownVisible = true\"\n    >\n      <template #button-content>\n        <icon-filter />\n        {{ $t('global.action.filter') }}\n      </template>\n      <b-dropdown-form>\n        <b-form-group\n          v-for=\"(filter, index) of filters\"\n          :key=\"index\"\n          :label=\"filter.label\"\n        >\n          <b-form-checkbox-group v-model=\"tags\">\n            <b-form-checkbox\n              v-for=\"value in filter.values\"\n              :key=\"value\"\n              :value=\"value\"\n              :data-test-id=\"`tableFilter-checkbox-${value}`\"\n            >\n              <b-dropdown-item>\n                {{ value }}\n              </b-dropdown-item>\n            </b-form-checkbox>\n          </b-form-checkbox-group>\n        </b-form-group>\n      </b-dropdown-form>\n      <b-dropdown-item-button\n        variant=\"primary\"\n        data-test-id=\"tableFilter-button-clearAll\"\n        @click=\"clearAllTags\"\n      >\n        {{ $t('global.action.clearAll') }}\n      </b-dropdown-item-button>\n    </b-dropdown>\n  </div>\n</template>\n\n<script>\nimport IconFilter from '@carbon/icons-vue/es/settings--adjust/20';\nimport { useI18n } from 'vue-i18n';\n\nexport default {\n  name: 'TableFilter',\n  components: { IconFilter },\n  props: {\n    filters: {\n      type: Array,\n      default: () => [],\n      validator: (prop) => {\n        return prop.every(\n          (filter) =>\n            'label' in filter && 'values' in filter && 'key' in filter,\n        );\n      },\n    },\n  },\n  data() {\n    return {\n      $t: useI18n().t,\n      dropdownVisible: false,\n      tags: [],\n    };\n  },\n  watch: {\n    tags: {\n      handler() {\n        this.emitChange();\n      },\n      deep: true,\n    },\n  },\n  methods: {\n    removeTag(removedTag) {\n      this.tags = this.tags.filter((tag) => tag !== removedTag);\n    },\n    clearAllTags() {\n      this.tags = [];\n    },\n    emitChange() {\n      const activeFilters = this.filters.map(({ key, values }) => {\n        const activeValues = values.filter(\n          (value) => this.tags.indexOf(value) !== -1,\n        );\n        return {\n          key,\n          values: activeValues,\n        };\n      });\n      this.$emit('filter-change', { activeFilters });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/bmc/helpers/_index.scss';\n@import '@/assets/styles/bootstrap/_helpers.scss';\n\n@import 'bootstrap/dist/css/bootstrap.css';\n\n.badge {\n  margin-right: $spacer / 2;\n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAA6B;;EACnCA,KAAK,EAAC;AAAqB;;;;;;;;;;;;uBADhCC,mBAAA,CAmDM,OAnDNC,UAmDM,GAlDJC,mBAAA,CASI,KATJC,UASI,I,kBARFH,mBAAA,CAOUI,SAAA,QAVhBC,WAAA,CAGsCC,KAAA,CAAAC,IAAI,EAH1C,CAGuBC,GAAG,EAAEC,KAAK;yBAA3BC,YAAA,CAOUC,kBAAA;MAP6BC,GAAG,EAAEH,KAAK;MAAEI,IAAI,EAAJ;;MAHzDC,OAAA,EAAAC,QAAA,CAIQ,MAAS,CAJjBC,gBAAA,CAAAC,gBAAA,CAIWT,GAAG,IAAG,GACT,iBAAAU,YAAA,CAIEC,yBAAA;QAHCC,QAAQ,EAAEd,KAAA,CAAAe,eAAe;QACzB,aAAW,EAAE,IAAI;QACjBC,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,SAAS,CAACjB,GAAG;;MAR/BkB,CAAA;;oCAYIR,YAAA,CAuCaS,qBAAA;IAtCXC,OAAO,EAAC,MAAM;IACd,UAAQ,EAAR,EAAQ;IACRC,KAAK,EAAL,EAAK;IACL,cAAY,EAAC,8BAA8B;IAC1CC,MAAI,EAAAC,MAAA,QAAAA,MAAA,MAAAR,MAAA,IAAEjB,KAAA,CAAAe,eAAe;IACrBW,MAAI,EAAAD,MAAA,QAAAA,MAAA,MAAAR,MAAA,IAAEjB,KAAA,CAAAe,eAAe;;IAEX,gBAAc,EAAAN,QAAA,CACvB,MAAe,CAAfG,YAAA,CAAee,sBAAA,GArBvBjB,gBAAA,CAqBuB,GACf,GAAAC,gBAAA,CAAGX,KAAA,CAAA4B,EAAE,yC;IAtBbpB,OAAA,EAAAC,QAAA,CAwBM,MAmBkB,CAnBlBG,YAAA,CAmBkBiB,0BAAA;MA3CxBrB,OAAA,EAAAC,QAAA,CA0BU,MAAkC,E,kBADpCf,mBAAA,CAiBeI,SAAA,QA1CvBC,WAAA,CA0BoC+B,MAAA,CAAAC,OAAO,EA1B3C,CA0BkBC,MAAM,EAAE7B,KAAK;6BADvBC,YAAA,CAiBe6B,uBAAA;UAfZ3B,GAAG,EAAEH,KAAK;UACV+B,KAAK,EAAEF,MAAM,CAACE;;UA5BzB1B,OAAA,EAAAC,QAAA,CA8BU,MAWwB,CAXxBG,YAAA,CAWwBuB,gCAAA;YAzClCC,UAAA,EA8B0CpC,KAAA,CAAAC,IAAI;YA9B9C,uBAAAwB,MAAA,QAAAA,MAAA,MAAAR,MAAA,IA8B0CjB,KAAA,CAAAC,IAAI,GAAAgB,MAAA;;YA9B9CT,OAAA,EAAAC,QAAA,CAgCc,MAA8B,E,kBADhCf,mBAAA,CASkBI,SAAA,QAxC9BC,WAAA,CAgC8BiC,MAAM,CAACK,MAAM,EAAtBC,KAAK;mCADdlC,YAAA,CASkBmC,0BAAA;gBAPfjC,GAAG,EAAEgC,KAAK;gBACVA,KAAK,EAAEA,KAAK;gBACZ,cAAY,0BAA0BA,KAAK;;gBAnC1D9B,OAAA,EAAAC,QAAA,CAqCc,MAEkB,CAFlBG,YAAA,CAEkB4B,0BAAA;kBAvChChC,OAAA,EAAAC,QAAA,CAsCgB,MAAW,CAtC3BC,gBAAA,CAAAC,gBAAA,CAsCmB2B,KAAK,iB;kBAtCxBlB,CAAA;;gBAAAA,CAAA;;;YAAAA,CAAA;;UAAAA,CAAA;;;MAAAA,CAAA;QA4CMR,YAAA,CAMyB6B,iCAAA;MALvBnB,OAAO,EAAC,SAAS;MACjB,cAAY,EAAC,6BAA6B;MACzCN,OAAK,EAAEE,QAAA,CAAAwB;;MA/ChBlC,OAAA,EAAAC,QAAA,CAiDQ,MAAkC,CAjD1CC,gBAAA,CAAAC,gBAAA,CAiDWX,KAAA,CAAA4B,EAAE,2C;MAjDbR,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}